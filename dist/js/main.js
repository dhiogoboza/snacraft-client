var _0xdbc7=['#322114','#8d6b3c','Indigo','#1A237E','#303F9F','#009688','#4DB6AC','#00897B','#1e2c13','#385a27','ZombieShirt','#007876','ZombiePant','#463aa5','#939393','SkeletonBow','#896727','Spider','#b50c0f','#050404','#18151c','#323232','#373737','#3a3a3a','#3f3f3f','#474747','#1a3516','#183114','#223d18','#274018','#3e532c','#150b04','#1d1308','#2c1e15','#38281b','#3b2a1d','clearRect','clear','push','split','arraybuffer','connect','disabled','style','cursor','pointer','nickname','value','substr','random','toString','snake-nickname','innerHTML','error','message','display','block','keyboard','arrows','connect-form','none','navbar','footer','beta','ads','snacraft-app','userAgent','social-buttons','leader-board-table','snake-ranking','undefined','hideAds','game-stats','showAds','name','direction','position','size','color','eyes','set','name_x','name_y','name_w','name_h','delete','speed','get','data','charCodeAt','close','head','down','left','setMob','image','off','map','snake','mob','fillText','measureText','fromCharCode','score','snake-size','<td><strong>\x20#','</strong></td><td>','</td>','appendChild','snake-speed','visible','Score:\x20','connect-form-gameover','keyCode','send','1,0','1,1','1,3','getAttribute','key','setTime','getTime','toUTCString','cookie','charAt','indexOf','substring','=;\x20Max-Age=-99999999;','search','#e8e8e8','#c19343','#967234','#FF0000','#f0acab','#d58181','#e7e7e7','#a5a5a5','#df9a9d','MOVE_SPEED','#9e9e00','#bfbf00','#fefe00','#126e00','#2afe00','innerWidth','canvas_below','canvas_above','innerHeight','textAlign','textBaseline','font','bold\x2015px\x20sans-serif','avatar','remove','replace','top','adsbygoogle','querySelector','.navbar-header','offsetTop','offsetHeight','marginTop','resize','DOMContentLoaded','arrow-top','arrow-right','arrow-left','70px','true','debug','localhost:8080','text','option','long-flower-eu.herokuapp.com','[DEV]\x20Long\x20Flower\x20EU','[DEV]\x20Cool\x20leaf\x20US','secret-reaches-61045.herokuapp.com','Fast\x20Island','server','options','selectedIndex','keydown','onclick','wait','querySelectorAll','match','createTextNode','setSnake','prototype','map_off','onreadystatechange','readyState','parse','title','url','setAttribute','onerror','log','Error\x20requesting\x20server\x20state','open','ws://','binaryType','onmessage','srcElement','/255\x20','choice','snd/xp.ogg','volume','snd/gallop1.ogg','snd/chickenhurt.ogg','snd/chicken.ogg','snd/pigdeath.mp3','snd/pig.mp3','snd/cow.ogg','snd/sheep1.mp3','snd/sheep2.mp3','loop','play','snd/hurt.ogg','#DDC436','#CAB43A','drawImage','length','createElement','canvas','height','width','getContext','fillStyle','fillRect','rect','bow','strokeStyle','moveTo','lineTo','stroke','Zombie','Skeleton','item','right','mn-button\x20arrow-right','currentTarget','className','beginPath','getElementById','avatar-arrow-left','click','avatar-arrow-right','addEventListener','#6d953e','floor','#6e6e6e','#747474','#2b1608','#3b2711','#715036','#76553a','#346a2c','#508935','#548c35','#7da658','CHICKEN','PIG','COW','SHEEP','XP1','XP2','XP3','XP4','Diamond','#000000','#006064','#00BCD4','#B2EBF2','#FFFFFF','#4A148C','#8E24AA'];(function(_0x3b2bf7,_0x534077){var _0x333656=function(_0x594d57){while(--_0x594d57){_0x3b2bf7['push'](_0x3b2bf7['shift']());}};_0x333656(++_0x534077);}(_0xdbc7,0xdd));var _0x4a79=function(_0x544037,_0xc959b7){_0x544037=_0x544037-0x0;var _0x381e84=_0xdbc7[_0x544037];return _0x381e84;};var items,avatar_snake_size,max_avatar_index,initial_av_index,avatar_ctx,avatar_canvas,SNAKE_SIZE=0x8,ITEMS=0xa,current_avatar_index=0x0,avatars=[];function debug(_0x3318cc,_0x1908e6,_0x3e3d8c,_0x59e039){ctx[_0x4a79('0x0')](_0x3318cc,_0x1908e6,_0x3e3d8c,_0x59e039,_0x59e039);}function createAvatars(){initial_av_index=TILES['length'],current_avatar_index=initial_av_index;for(var _0x57a6e9=item_size/0x8,_0x572c64=item_size+_0x57a6e9,_0x5b2341=item_size+_0x57a6e9,_0x3aef16=item_size/0x8,_0x510821=0x2*_0x3aef16,_0x533915=0x0;_0x533915<colors[_0x4a79('0x1')];_0x533915++){canvas=document[_0x4a79('0x2')](_0x4a79('0x3')),canvas[_0x4a79('0x4')]=item_size,canvas[_0x4a79('0x5')]=item_size,dctx=canvas[_0x4a79('0x6')]('2d'),dctx[_0x4a79('0x7')]=grid_color,dctx[_0x4a79('0x8')](0x0,0x0,item_size,item_size),dctx[_0x4a79('0x7')]=TILES[0x0]['i'],dctx[_0x4a79('0x8')](0x0,0x0,item_size_1,item_size_1),x=-_0x3aef16,y=-_0x3aef16,_0x572c64=item_size_1+_0x510821,_0x5b2341=item_size_1+_0x510821;var _0x131405=document['createElement'](_0x4a79('0x3'));_0x131405['height']=item_size,_0x131405[_0x4a79('0x5')]=item_size,colors[_0x533915][0x1]=heads[colors[_0x533915][0x1]];var _0x10debe=_0x131405['getContext']('2d');if(_0x4a79('0x9')==colors[_0x533915][0x2])drawCircle(_0x10debe,_0x3aef16,colors[_0x533915][0x3],colors[_0x533915][0x4],colors[_0x533915][0x5],!0x1);else if(_0x4a79('0xa')==colors[_0x533915][0x2]){drawCircle(_0x10debe,_0x3aef16,colors[_0x533915][0x3],colors[_0x533915][0x4],colors[_0x533915][0x4],!0x1);var _0x3989a4=_0x3aef16/0x2,_0x2398d5=0x3*_0x3aef16,_0x239480=_0x510821,_0x2f89b9=_0x5b2341-0x4*_0x3aef16;_0x10debe[_0x4a79('0x7')]=colors[_0x533915][0x5];for(var _0x5ce38c=0x0;0x3>_0x5ce38c;_0x5ce38c++)_0x10debe[_0x4a79('0x8')](_0x239480,_0x2f89b9,_0x3aef16,_0x3aef16),_0x239480+=_0x3989a4,_0x2f89b9-=0x2*_0x3989a4;for(var _0x5ce38c=0x0;0x3>_0x5ce38c;_0x5ce38c++)_0x10debe['fillRect'](_0x239480,_0x2f89b9,_0x3aef16,_0x3aef16),_0x239480+=0x2*_0x3989a4,_0x2f89b9-=_0x3989a4;_0x10debe[_0x4a79('0xb')]=colors[_0x533915][0x6],_0x10debe['beginPath'](),_0x10debe[_0x4a79('0xc')](_0x510821+_0x3989a4,_0x5b2341-_0x2398d5),_0x10debe[_0x4a79('0xd')](_0x572c64-_0x2398d5,_0x510821),_0x10debe[_0x4a79('0xe')](),dctx['drawImage'](_0x131405,x,y,_0x572c64,_0x5b2341);}dctx['drawImage'](_0x131405,x,y,_0x572c64,_0x5b2341),TILES[initial_av_index+_0x533915]={'item':canvas,'off':!0x1,'image':!0x0},_0x4a79('0xf')===colors[_0x533915][0x0]?(ZOMBIE_INDEX=TILES[_0x4a79('0x1')]-0x1,ZOMBIE_SHIRT=ZOMBIE_INDEX+0x1,ZOMBIE_PANT=ZOMBIE_SHIRT+0x1):_0x4a79('0x10')===colors[_0x533915][0x0]?(SKELETON_INDEX=TILES[_0x4a79('0x1')]-0x1,SKELETON_BOW=SKELETON_INDEX+0x1):0x4==_0x533915&&(max_avatar_index=TILES['length']);}}function drawAvatar(_0x3fa4f7){var _0x572e6d=0x21/0x8,_0xa76b51=TILES[_0x3fa4f7];head_canvas=colors[_0x3fa4f7-initial_av_index][0x1],x=_0x572e6d;var _0x2768d8=parseInt((items-avatar_snake_size)/0x2),_0x44d260=avatar_snake_size+_0x2768d8;for(i=0x0;i<_0x44d260;i++)i>=_0x2768d8&&(avatar_ctx['drawImage'](_0xa76b51[_0x4a79('0x11')],x,0x2*_0x572e6d,0x21,0x21),i==_0x44d260-0x1&&avatar_ctx[_0x4a79('0x0')](head_canvas[_0x4a79('0x12')],x,0x2*_0x572e6d,0x21,0x21)),x+=0x21;}function changeAvatar(_0x35f24d){_0x4a79('0x13')===_0x35f24d[_0x4a79('0x14')][_0x4a79('0x15')]?(current_avatar_index++,current_avatar_index===max_avatar_index&&(current_avatar_index=initial_av_index)):(current_avatar_index--,current_avatar_index===initial_av_index-0x1&&(current_avatar_index=max_avatar_index-0x1)),drawAvatar(current_avatar_index);}function initAvatarChooser(){avatar_ctx=avatar_canvas[_0x4a79('0x6')]('2d');var _0x41af65=0.2*0x21;items=smallScreen?0x6:ITEMS,avatar_snake_size=items-0x2;var _0x11f480=items*0x21+0x2*_0x41af65;for(avatar_canvas['height']=0x21+0x2*_0x41af65,avatar_canvas[_0x4a79('0x5')]=_0x11f480,avatar_ctx[_0x4a79('0x7')]=TILES[0x0]['i'],avatar_ctx[_0x4a79('0x8')](0x0,0x0,avatar_canvas[_0x4a79('0x5')],avatar_canvas[_0x4a79('0x4')]),avatar_ctx['strokeStyle']=grid_color,avatar_ctx['beginPath'](),avatar_ctx[_0x4a79('0xc')](0x0,_0x41af65),avatar_ctx[_0x4a79('0xd')](avatar_canvas[_0x4a79('0x5')],_0x41af65),avatar_ctx['stroke'](),avatar_ctx['beginPath'](),avatar_ctx[_0x4a79('0xc')](0x0,_0x41af65+0x21),avatar_ctx[_0x4a79('0xd')](avatar_canvas[_0x4a79('0x5')],_0x41af65+0x21),avatar_ctx[_0x4a79('0xe')](),x=_0x41af65,i=0x0;i<items;i++)avatar_ctx[_0x4a79('0x16')](),avatar_ctx['moveTo'](x,0x0),avatar_ctx[_0x4a79('0xd')](x,avatar_canvas[_0x4a79('0x4')]),avatar_ctx[_0x4a79('0xe')](),x+=0x21;createAvatars(),drawAvatar(current_avatar_index),document[_0x4a79('0x17')](_0x4a79('0x18'))['addEventListener'](_0x4a79('0x19'),changeAvatar),document[_0x4a79('0x17')](_0x4a79('0x1a'))[_0x4a79('0x1b')]('click',changeAvatar);}var ZOMBIE_INDEX,ZOMBIE_SHIRT,ZOMBIE_PANT,SKELETON_INDEX,SKELETON_BOW,rankingSize,mobs_data,cur_i,cur_j,cur_id,k,l,size_most,size_less,arrow_top,arrow_right,arrow_bottom,arrow_left,socket,nickname,id,snakes_count,snake_size,tile,previous,snake,current_screen,current_server,heads,i_start,i_end,horizontal_items,vertical_items,vertical_items_half,horizontal_items_half,focus_offset_i,focus_offset_j,colors,TILES,sounds,ctx_below,ctx,ctx_above,width,height,i,j,leaderBoardTable,tBodyElem,snakeRanking,KEY_UP=0x57,KEY_DOWN=0x53,KEY_LEFT=0x41,KEY_RIGHT=0x44,KEY_UP_1=0x26,KEY_DOWN_1=0x28,KEY_LEFT_1=0x25,KEY_RIGHT_1=0x27,DIRECTION_DOWN=0x0,DIRECTION_RIGHT=0x1,DIRECTION_LEFT=0x2,DIRECTION_UP=0x3,SMALL_SCREEN=0x2a8,RANKING_SIZE=0x8,mustPrepare=!0x1,smallScreen=!0x1,FOCUS_OFFSET_PERCENTAGE=0.2,TILE_MOVE_SPEED=0x5,NAMES_HEIGHT=0xf,server_matrix=[],current_screen_matrix=[],room_leader=null,crown={},players_list=new Map(),connected=!0x1,leaderboard=[],first=!0x0,my_snake=null,lines=0x0,columns=0x0,center_i=0x0,center_j=0x0,head_i=0x0,head_j=0x0,data=null,eyes_color='#000000',offset_i_left=0x0,offset_j_left=0x0,offset_i_right=0x0,offset_j_right=0x0,j_start=0x0,j_end=0x0,grid_color=_0x4a79('0x1c'),DESIRED_HORIZONTAL_ITEMS=0x37,item_size=0x1a,item_size_1=item_size-0x2;function randomInt(_0x1e747b,_0x46a99d){return Math[_0x4a79('0x1d')](Math['random']()*(_0x46a99d-_0x1e747b+0x1)+_0x1e747b);}function initTilesArray(){TILES=[{'i':'#80af49','off':!0x1},{'i':'#686868','off':!0x0},{'i':_0x4a79('0x1e'),'off':!0x0},{'i':_0x4a79('0x1f'),'off':!0x0},{'i':'#7e7e7e','off':!0x0},{'i':'#8e8e8e','off':!0x0},{'i':_0x4a79('0x20'),'off':!0x0},{'i':_0x4a79('0x21'),'off':!0x0},{'i':'#593d2a','off':!0x0},{'i':_0x4a79('0x22'),'off':!0x0},{'i':_0x4a79('0x23'),'off':!0x0},{'i':_0x4a79('0x24'),'off':!0x0},{'i':'#4b8435','off':!0x0},{'i':_0x4a79('0x25'),'off':!0x0},{'i':_0x4a79('0x26'),'off':!0x0},{'i':_0x4a79('0x27'),'off':!0x0},{'i':_0x4a79('0x28'),'off':!0x1},{'i':_0x4a79('0x29'),'off':!0x1},{'i':_0x4a79('0x2a'),'off':!0x1},{'i':_0x4a79('0x2b'),'off':!0x1},{'i':_0x4a79('0x2c'),'off':!0x1},{'i':_0x4a79('0x2d'),'off':!0x1},{'i':_0x4a79('0x2e'),'off':!0x1},{'i':_0x4a79('0x2f'),'off':!0x1},{'i':'MOVE_SPEED','off':!0x1}],colors=[[_0x4a79('0x30'),_0x4a79('0x31'),'rect',_0x4a79('0x32'),_0x4a79('0x33'),_0x4a79('0x34')],['Purple',_0x4a79('0x35'),_0x4a79('0x9'),_0x4a79('0x36'),_0x4a79('0x37'),'#E1BEE7'],['Wood',_0x4a79('0x35'),_0x4a79('0x9'),_0x4a79('0x38'),_0x4a79('0x39'),'#9d7942'],[_0x4a79('0x3a'),_0x4a79('0x35'),_0x4a79('0x9'),_0x4a79('0x3b'),_0x4a79('0x3c'),'#9FA8DA'],['Teal','#000000',_0x4a79('0x9'),_0x4a79('0x3d'),_0x4a79('0x3e'),_0x4a79('0x3f')],[_0x4a79('0xf'),'#000000',_0x4a79('0x9'),_0x4a79('0x40'),_0x4a79('0x41'),'#567943'],[_0x4a79('0x42'),'#000000','rect',_0x4a79('0x43'),'#007e7b','#007e7b'],[_0x4a79('0x44'),'#000000',_0x4a79('0x9'),'#3a3189',_0x4a79('0x45'),'#463aa5'],['Skeleton',_0x4a79('0x31'),_0x4a79('0x9'),'#686868',_0x4a79('0x46'),_0x4a79('0x46')],[_0x4a79('0x47'),'#000000',_0x4a79('0xa'),'#686868',_0x4a79('0x46'),_0x4a79('0x48'),'#444444'],[_0x4a79('0x49'),_0x4a79('0x4a'),'rect',_0x4a79('0x4b'),_0x4a79('0x4c'),'#211d27']];}function drawGrid(_0x2e2da2){var _0x3f92d7,_0x298876=0x0,_0x3091ec=!0x0,_0x2fb01f=(smallScreen?0x3:0x5)*item_size,_0x4f483c=(vertical_items-0x6)*item_size,_0xad99b6=[_0x4a79('0x4d'),_0x4a79('0x4e'),_0x4a79('0x4f'),_0x4a79('0x50'),_0x4a79('0x51')],_0x5f0a2e=[_0x4a79('0x52'),_0x4a79('0x53'),_0x4a79('0x54'),_0x4a79('0x55'),_0x4a79('0x56')],_0x2e70c6=[_0x4a79('0x57'),_0x4a79('0x58'),_0x4a79('0x59'),_0x4a79('0x5a'),_0x4a79('0x5b')];for(ctx_above[_0x4a79('0x5c')](0x0,0x0,width,height),ctx[_0x4a79('0x5c')](0x0,0x0,width,_0x2fb01f+item_size),ctx['clearRect'](0x0,_0x4f483c,width,height),i=0x0;i<vertical_items+0x1;i++){for(_0x3f92d7=0x0,j=0x0;j<horizontal_items+0x1;j++){if(_0x298876>=_0x4f483c)_0x3091ec?(ctx_below[_0x4a79('0x7')]=_0x5f0a2e[randomInt(0x0,0x4)],ctx_below[_0x4a79('0x8')](_0x3f92d7,_0x298876,item_size,item_size)):(ctx_below['fillStyle']=_0x2e70c6[randomInt(0x0,0x4)],ctx_below[_0x4a79('0x8')](_0x3f92d7,_0x298876,item_size,item_size));else if(_0x298876<=_0x2fb01f)ctx_below[_0x4a79('0x7')]=_0xad99b6[randomInt(0x0,0x4)],ctx_below[_0x4a79('0x8')](_0x3f92d7,_0x298876,item_size,item_size);else if(_0x2e2da2)break;else ctx_below[_0x4a79('0x7')]=TILES[0x0]['i'],ctx_below['fillRect'](_0x3f92d7,_0x298876,item_size_1,item_size_1);_0x3f92d7+=item_size;}_0x298876>=_0x4f483c&&(_0x3091ec=!0x1),_0x298876+=item_size;}}function resetCurrentMatrix(){ctx['clearRect'](0x0,0x0,width,height),players_list[_0x4a79('0x5d')](),ctx_above[_0x4a79('0x5c')](0x0,0x0,width,height),my_snake={};var _0x46ddba,_0x4df4b2,_0x250ef1=-item_size;for(current_matrix_screen=[],i=0x0;i<vertical_items;i++){for(lineMobs=[],_0x46ddba=[],_0x4df4b2=-item_size,j=0x0;j<horizontal_items;j++)_0x46ddba[_0x4a79('0x5e')](new ScreenPixel(_0x4df4b2,_0x250ef1)),_0x4df4b2+=item_size;_0x250ef1+=item_size,current_matrix_screen['push'](_0x46ddba);}}function initMatrix(_0x171523){var _0x312f16=_0x171523[_0x4a79('0x5f')](',');lines=parseInt(_0x312f16[0x1]),columns=parseInt(_0x312f16[0x2]),server_matrix=[];var _0x1c8e3b,_0x31c047=0x3;for(i=0x0;i<lines;i++){for(_0x1c8e3b=[],j=0x0;j<columns;j++)_0x1c8e3b[_0x4a79('0x5e')](new MapPixel(parseInt(_0x312f16[_0x31c047]))),_0x31c047++;server_matrix[i]=_0x1c8e3b;}}function connect(_0xcfd46e){socket=new WebSocket('ws://'+_0xcfd46e),socket['binaryType']=_0x4a79('0x60'),socket[_0x4a79('0x1b')]('open',function(){connected=!0x0;var _0xcfd46e=document[_0x4a79('0x17')](_0x4a79('0x61'));_0xcfd46e[_0x4a79('0x62')]=!0x1,_0xcfd46e[_0x4a79('0x63')][_0x4a79('0x64')]=_0x4a79('0x65'),startGame(),nickname=document[_0x4a79('0x17')](_0x4a79('0x66'))[_0x4a79('0x67')],nickname?0xa<nickname[_0x4a79('0x1')]&&(nickname=nickname[_0x4a79('0x68')](0x0,0xa)):nickname='snake-'+parseInt(0x186a0*Math[_0x4a79('0x69')]())[_0x4a79('0x6a')](),socket['send'](nickname+','+current_avatar_index),document[_0x4a79('0x17')](_0x4a79('0x6b'))[_0x4a79('0x6c')]=nickname;}),socket[_0x4a79('0x1b')]('close',function(){closeGame();}),socket[_0x4a79('0x1b')](_0x4a79('0x6d'),function(){closeGame();}),socket[_0x4a79('0x1b')](_0x4a79('0x6e'),onMessage);}function startGame(){document[_0x4a79('0x17')]('game-container')[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x70'),document['getElementById']('game-stats')[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x70'),document[_0x4a79('0x17')](_0x4a79('0x71'))['style']['display']=_0x4a79('0x70'),document[_0x4a79('0x17')](_0x4a79('0x72'))[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x70'),document[_0x4a79('0x17')](_0x4a79('0x73'))[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x74'),document[_0x4a79('0x17')](_0x4a79('0x75'))[_0x4a79('0x63')]['display']=_0x4a79('0x74'),document[_0x4a79('0x17')](_0x4a79('0x76'))[_0x4a79('0x63')]['display']=_0x4a79('0x74'),document[_0x4a79('0x17')](_0x4a79('0x77'))[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x74');var _0x84fb90=document[_0x4a79('0x17')](_0x4a79('0x78'));_0x84fb90&&(_0x84fb90[_0x4a79('0x63')]['display']=_0x4a79('0x74')),_0x4a79('0x79')!=navigator[_0x4a79('0x7a')]&&(document[_0x4a79('0x17')](_0x4a79('0x7b'))[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x74')),leaderBoardTable=document['getElementById'](_0x4a79('0x7c')),tBodyElem=document[_0x4a79('0x2')]('tbody'),leaderBoardTable[_0x4a79('0x6c')]='',leaderBoardTable['appendChild'](tBodyElem),snakeRanking=document['getElementById'](_0x4a79('0x7d')),_0x4a79('0x7e')!=typeof app&&app[_0x4a79('0x7f')](),startSound();}function closeGame(){socket=null,connected=!0x1,document[_0x4a79('0x17')]('connect')[_0x4a79('0x62')]=!0x1,document['getElementById'](_0x4a79('0x80'))[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x74'),document[_0x4a79('0x17')](_0x4a79('0x72'))[_0x4a79('0x63')]['display']=_0x4a79('0x74'),smallScreen&&(document[_0x4a79('0x17')](_0x4a79('0x71'))[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x74')),document[_0x4a79('0x17')](_0x4a79('0x73'))[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x70'),document['getElementById']('navbar')['style'][_0x4a79('0x6f')]='block',document[_0x4a79('0x17')](_0x4a79('0x76'))[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x70'),document[_0x4a79('0x17')](_0x4a79('0x77'))['style']['display']=_0x4a79('0x70');var _0x1ff977=document['getElementById']('ads');_0x1ff977&&(_0x1ff977[_0x4a79('0x63')]['display']='block'),_0x4a79('0x79')!=navigator[_0x4a79('0x7a')]&&(document['getElementById'](_0x4a79('0x7b'))[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x70')),_0x4a79('0x7e')!=typeof app&&app[_0x4a79('0x81')](),stopSound();}function onMessage(_0x14e400){if(_0x14e400['data']instanceof ArrayBuffer)switch(data=new Uint8Array(_0x14e400['data']),data[0x0]){case 0x1:id=data[0x1],color=data[0x2],head_i=data[0x3],head_j=data[0x4],center_i=head_i,center_j=head_j,my_snake['id']=id,my_snake[_0x4a79('0x82')]=nickname,my_snake['i']=head_i,my_snake['j']=head_j,my_snake[_0x4a79('0x83')]=DIRECTION_UP,my_snake[_0x4a79('0x84')]=players_list[_0x4a79('0x85')],my_snake[_0x4a79('0x86')]=color,my_snake[_0x4a79('0x87')]=colors[color-initial_av_index][0x1],my_snake['head']=colors[color-initial_av_index][0x1]['up'],initPlayer(my_snake),players_list[_0x4a79('0x88')](id,my_snake);break;case 0xc:mobs_data=data,getServerMobs(),drawMobsAtMap(),drawRoomLeader(),first=!0x1,drawLeaderboard();break;case 0x2:mobs_data=data,_0x55b424=0x1,j=0x1,getServerMobsChanges(),drawMobsAtMap(),drawRoomLeader();break;case 0x7:initPlayersList(data);break;case 0x8:snake=players_list['get'](data[0x1]),snake&&(ctx_above[_0x4a79('0x5c')](snake[_0x4a79('0x89')]-0x2,snake[_0x4a79('0x8a')]-0x2,snake[_0x4a79('0x8b')],snake[_0x4a79('0x8c')]),players_list[_0x4a79('0x8d')](data[0x1]));break;case 0x9:break;case 0xa:playSound(data[0x1]);break;case 0xb:my_snake[_0x4a79('0x8e')]=data[0x1],drawSpeed();break;case 0xd:leaderboard=[];for(var _0x55b424=0x1;_0x55b424<data[_0x4a79('0x1')];_0x55b424++)leaderboard['push'](data[_0x55b424]);room_leader=players_list[_0x4a79('0x8f')](leaderboard[0x0]),drawLeaderboard();}else if('string'==typeof _0x14e400[_0x4a79('0x90')])switch(data=_0x14e400['data'],data[_0x4a79('0x91')](0x0)){case 0x0:initMatrix(data);break;case 0x4:socket[_0x4a79('0x92')](),drawGameover();}}function updateSnakeDirection(_0x3a2b6b,_0x476cdb,_0xfb2e35){_0x3a2b6b['i']<_0x476cdb?(_0x3a2b6b[_0x4a79('0x93')]=_0x3a2b6b[_0x4a79('0x87')][_0x4a79('0x94')],_0x3a2b6b[_0x4a79('0x83')]=DIRECTION_DOWN):_0x3a2b6b['j']<_0xfb2e35?(_0x3a2b6b['head']=_0x3a2b6b['eyes'][_0x4a79('0x12')],_0x3a2b6b[_0x4a79('0x83')]=DIRECTION_RIGHT):_0x3a2b6b['j']>_0xfb2e35?(_0x3a2b6b['head']=_0x3a2b6b[_0x4a79('0x87')][_0x4a79('0x95')],_0x3a2b6b[_0x4a79('0x83')]=DIRECTION_LEFT):(_0x3a2b6b['head']=_0x3a2b6b[_0x4a79('0x87')]['up'],_0x3a2b6b[_0x4a79('0x83')]=DIRECTION_UP),_0x3a2b6b['i']=_0x476cdb,_0x3a2b6b['j']=_0xfb2e35;}function putSnakeAtMap(){if(cur_id=mobs_data[j++],cur_snake=players_list[_0x4a79('0x8f')](cur_id),color=mobs_data[j++],!cur_snake){cur_snake={};var _0x11562e=color-initial_av_index;cur_snake['id']=cur_id,cur_snake[_0x4a79('0x87')]=colors[_0x11562e]?colors[_0x11562e][0x1]:colors[0x0][0x1],cur_snake['name']='',cur_snake['i']=0x0,cur_snake['j']=0x0,players_list[_0x4a79('0x88')](cur_id,cur_snake);}for(first&&leaderboard['length']<rankingSize&&0x0<cur_snake[_0x4a79('0x82')][_0x4a79('0x1')]&&leaderboard[_0x4a79('0x5e')](cur_id),cur_snake[_0x4a79('0x86')]=color,size_most=mobs_data[j++],size_less=mobs_data[j++],cur_snake[_0x4a79('0x85')]=size_most<<0x8|0xff&size_less,cur_i=mobs_data[j++],cur_j=mobs_data[j++],updateSnakeDirection(cur_snake,cur_i,cur_j),snake_size=cur_snake[_0x4a79('0x85')],k=0x1;k<snake_size;k++)server_matrix[mobs_data[j++]][mobs_data[j++]][_0x4a79('0x96')](color);return cur_id==id&&(my_snake=cur_snake),server_matrix[cur_snake['i']][cur_snake['j']]['setSnake'](cur_id),cur_snake;}function getServerMobs(){for(snakes_count=mobs_data[0x1],j=0x2,i=0x0,i=0x0;i<snakes_count;i++)putSnakeAtMap();getServerMobsChanges();}function getServerMobsChanges(){var _0x4f829a,_0x4a5ab6,_0x4419e1;for(i=j;i<mobs_data[_0x4a79('0x1')];i++)if(_0x4a5ab6=mobs_data[i],_0x4419e1=mobs_data[++i],_0x4f829a=mobs_data[++i],0xff===_0x4f829a){if(cur_id=mobs_data[++i],cur_snake=players_list['get'](cur_id),server_matrix[_0x4a5ab6][_0x4419e1]['setSnake'](cur_id),!cur_snake){cur_snake={};cur_snake['id']=cur_id,cur_snake[_0x4a79('0x87')]=colors[0x0][0x1],cur_snake[_0x4a79('0x82')]='',cur_snake['i']=0x0,cur_snake['j']=0x0,cur_snake[_0x4a79('0x86')]=initial_av_index,cur_snake[_0x4a79('0x83')]=DIRECTION_UP,players_list[_0x4a79('0x88')](cur_id,cur_snak);}else server_matrix[cur_snake['i']][cur_snake['j']]['setMob'](cur_snake['color']);updateSnakeDirection(cur_snake,_0x4a5ab6,_0x4419e1),cur_id==id&&(!my_snake[_0x4a79('0x84')]&&(my_snake['position']=players_list[_0x4a79('0x85')]),my_snake[_0x4a79('0x82')]=cur_snake[_0x4a79('0x82')],my_snake['i']=cur_snake['i'],my_snake['j']=cur_snake['j']);}else server_matrix[_0x4a5ab6][_0x4419e1]['setMob'](_0x4f829a);my_snake&&(head_i=my_snake['i'],head_j=my_snake['j'],head_i-center_i<-focus_offset_i?center_i--:head_i-center_i>focus_offset_i&&center_i++,head_j-center_j<-focus_offset_j?center_j--:head_j-center_j>focus_offset_j&&center_j++);}function drawItemAtCanvas(_0x25f753,_0x40dd21,_0x37e425,_0x200535){_0x25f753[_0x4a79('0x97')]?(_0x200535[_0x4a79('0x5c')](_0x40dd21['position']['x'],_0x40dd21[_0x4a79('0x84')]['y'],item_size,item_size),_0x200535['drawImage'](_0x25f753[_0x4a79('0x11')],_0x40dd21[_0x4a79('0x84')]['x'],_0x40dd21[_0x4a79('0x84')]['y'],item_size,item_size)):(previous=TILES[_0x37e425],(!previous||previous[_0x4a79('0x97')]||previous[_0x4a79('0x98')])&&(_0x200535[_0x4a79('0x7')]=grid_color,_0x200535[_0x4a79('0x8')](_0x40dd21[_0x4a79('0x84')]['x'],_0x40dd21['position']['y'],item_size,item_size)),_0x200535[_0x4a79('0x7')]=_0x25f753[_0x4a79('0x11')],_0x25f753[_0x4a79('0x98')]?_0x200535['fillRect'](_0x40dd21[_0x4a79('0x84')]['x'],_0x40dd21[_0x4a79('0x84')]['y'],item_size,item_size):_0x200535['fillRect'](_0x40dd21[_0x4a79('0x84')]['x'],_0x40dd21['position']['y'],item_size_1,item_size_1));}var stop_game=0x0;function drawMobsAtMap(){for(i_start=center_i-offset_i_left,i_end=center_i+offset_i_right,0x0>i_start?(i_start=0x0,i_end=vertical_items):i_end>=lines&&(i_end=lines,i_start=lines-vertical_items),j_start=center_j-offset_j_left,j_end=center_j+offset_j_right,0x0>j_start?(j_start=0x0,j_end=horizontal_items):j_end>=columns&&(j_end=columns,j_start=columns-horizontal_items),0x1==stop_game,stop_game++,(i=i_start,_i=0x0);i<i_end;i++,_i++)for(j=j_start,_j=0x0;j<j_end;j++,_j++)current_screen=current_matrix_screen[_i][_j],current_server=server_matrix[i][j],current_screen['map']!=current_server[_0x4a79('0x99')]&&(tile=TILES[current_server[_0x4a79('0x99')]],drawItemAtCanvas(tile,current_screen,current_screen[_0x4a79('0x99')],ctx_below),current_screen['map']=current_server[_0x4a79('0x99')]),current_server[_0x4a79('0x9a')]?(snake=players_list[_0x4a79('0x8f')](current_server[_0x4a79('0x9a')]),snake&&(current_screen[_0x4a79('0x9b')]!=current_server[_0x4a79('0x9a')]||current_screen[_0x4a79('0x83')]!=snake[_0x4a79('0x83')])&&(tile=TILES[snake[_0x4a79('0x86')]],ctx[_0x4a79('0x0')](tile[_0x4a79('0x11')],current_screen[_0x4a79('0x84')]['x'],current_screen[_0x4a79('0x84')]['y'],item_size,item_size),ctx[_0x4a79('0x0')](snake['head'],current_screen[_0x4a79('0x84')]['x'],current_screen[_0x4a79('0x84')]['y'],item_size,item_size),room_leader&&room_leader['id']===snake['id']&&ctx[_0x4a79('0x0')](crown[snake['direction']],current_screen[_0x4a79('0x84')]['x'],current_screen['position']['y'],item_size,item_size),ctx_above[_0x4a79('0x5c')](snake[_0x4a79('0x89')]-0x2,snake['name_y']-0x2,snake[_0x4a79('0x8b')],snake[_0x4a79('0x8c')]),snake[_0x4a79('0x89')]=current_screen[_0x4a79('0x84')]['x']+item_size,snake[_0x4a79('0x8a')]=current_screen[_0x4a79('0x84')]['y']-item_size,ctx_above[_0x4a79('0x9c')](snake[_0x4a79('0x82')],snake[_0x4a79('0x89')],snake[_0x4a79('0x8a')]),current_screen[_0x4a79('0x9b')]=current_server['snake'],current_screen[_0x4a79('0x83')]=snake[_0x4a79('0x83')])):0x0===current_server[_0x4a79('0x9a')]?0x0===current_server[_0x4a79('0x9b')]?0x0===current_server['mob']&&0x0===current_server[_0x4a79('0x9a')]&&0x0!==current_screen[_0x4a79('0x9b')]&&(ctx[_0x4a79('0x5c')](current_screen[_0x4a79('0x84')]['x'],current_screen['position']['y'],item_size,item_size),current_screen[_0x4a79('0x9b')]=0x0):current_server[_0x4a79('0x9b')]!==current_screen['mob']&&(tile=TILES[current_server[_0x4a79('0x9b')]],drawItemAtCanvas(tile,current_screen,current_screen['mob'],ctx),current_screen[_0x4a79('0x9b')]=current_server['mob']):current_server[_0x4a79('0x9a')]!==current_screen[_0x4a79('0x9b')]&&(tile=TILES[current_server[_0x4a79('0x9a')]],drawItemAtCanvas(tile,current_screen,current_screen[_0x4a79('0x9b')],ctx),current_screen[_0x4a79('0x9b')]=current_server[_0x4a79('0x9a')]);}function drawRoomLeader(){var _0x20faab=Math['abs'];room_leader&&my_snake&&room_leader['id']!=my_snake['id']?(_0x20faab(room_leader['j']-my_snake['j'])>=horizontal_items_half?room_leader['j']>my_snake['j']?(arrow_right[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x70'),arrow_left[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x74')):(arrow_right[_0x4a79('0x63')]['display']='none',arrow_left[_0x4a79('0x63')]['display']='block'):(arrow_right[_0x4a79('0x63')][_0x4a79('0x6f')]='none',arrow_left['style']['display']=_0x4a79('0x74')),_0x20faab(room_leader['i']-my_snake['i'])>=vertical_items_half?room_leader['i']>my_snake['i']?(arrow_bottom[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x70'),arrow_top[_0x4a79('0x63')][_0x4a79('0x6f')]='none'):(arrow_bottom['style'][_0x4a79('0x6f')]=_0x4a79('0x74'),arrow_top[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x70')):(arrow_bottom[_0x4a79('0x63')]['display']='none',arrow_top[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x74'))):(arrow_right['style'][_0x4a79('0x6f')]=_0x4a79('0x74'),arrow_left[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x74'),arrow_bottom[_0x4a79('0x63')][_0x4a79('0x6f')]='none',arrow_top[_0x4a79('0x63')][_0x4a79('0x6f')]=_0x4a79('0x74'));}function initPlayer(_0x1d4e44){measure=ctx_above[_0x4a79('0x9d')](_0x1d4e44['name']),_0x1d4e44[_0x4a79('0x8c')]=0x13,_0x1d4e44['name_w']=measure[_0x4a79('0x5')]+0x4,_0x1d4e44[_0x4a79('0x89')]=0x0,_0x1d4e44['name_y']=0x0,_0x1d4e44[_0x4a79('0x85')]=0x0;}function initPlayersList(_0x2dbf6f){for(var _0x2c9b47,_0x4d310a,_0x801487,_0x1f7454,_0x382488,_0xc96a1d=0x1;_0xc96a1d<_0x2dbf6f[_0x4a79('0x1')];){for(_0x4d310a=_0x2dbf6f[_0xc96a1d],_0xc96a1d++,_0x1f7454=_0x2dbf6f[_0xc96a1d],_0x2c9b47='',j=0x0;j<_0x1f7454;j++)_0xc96a1d++,_0x2c9b47+=String[_0x4a79('0x9e')](_0x2dbf6f[_0xc96a1d]);_0xc96a1d++,_0x382488=_0x2dbf6f[_0xc96a1d],_0x801487={'id':_0x4d310a,'name':_0x2c9b47,'i':0x0,'j':0x0,'color':_0x382488,'eyes':colors[_0x382488-initial_av_index][0x1]},initPlayer(_0x801487),players_list[_0x4a79('0x88')](_0x4d310a,_0x801487),_0xc96a1d++;}}function drawLeaderboard(){my_snake[_0x4a79('0x9f')]=my_snake[_0x4a79('0x85')],document[_0x4a79('0x17')](_0x4a79('0xa0'))['innerHTML']=my_snake[_0x4a79('0x9f')],snakeRanking[_0x4a79('0x6c')]=my_snake[_0x4a79('0x84')]+'/'+snakes_count,tBodyElem[_0x4a79('0x6c')]='';var _0x51c83e;for(i=0x0;i<leaderboard[_0x4a79('0x1')];i++)if(_0x51c83e=players_list[_0x4a79('0x8f')](leaderboard[i]),_0x51c83e){var _0x4e1523=document[_0x4a79('0x2')]('tr');_0x4e1523['innerHTML']=_0x4a79('0xa1')+(i+0x1)+_0x4a79('0xa2')+_0x51c83e[_0x4a79('0x82')]+_0x4a79('0xa3'),tBodyElem[_0x4a79('0xa4')](_0x4e1523);}}function drawSpeed(){document['getElementById'](_0x4a79('0xa5'))[_0x4a79('0x6c')]=my_snake[_0x4a79('0x8e')];}function drawGameover(){var _0x20c3fb=document['getElementById'](_0x4a79('0x9f'));_0x20c3fb[_0x4a79('0x63')]['visibility']=_0x4a79('0xa6'),_0x20c3fb[_0x4a79('0x6c')]=_0x4a79('0xa7')+my_snake[_0x4a79('0x9f')]+'\x20('+my_snake['position']+'/'+snakes_count+')',document[_0x4a79('0x17')](_0x4a79('0xa8'))['style']['visibility']=_0x4a79('0xa6'),mustPrepare&&(prepareGame(),mustPrepare=!0x1),drawGrid(!0x0);}function keyPressed(_0x20a0cd){if(!connected)0xd==_0x20a0cd['keyCode']&&document[_0x4a79('0x17')]('connect')[_0x4a79('0x19')]();else switch(_0x20a0cd[_0x4a79('0xa9')]){case KEY_UP:case KEY_UP_1:socket[_0x4a79('0xaa')](_0x4a79('0xab'));break;case KEY_DOWN:case KEY_DOWN_1:socket[_0x4a79('0xaa')](_0x4a79('0xac'));break;case KEY_LEFT:case KEY_LEFT_1:socket[_0x4a79('0xaa')]('1,2');break;case KEY_RIGHT:case KEY_RIGHT_1:socket[_0x4a79('0xaa')](_0x4a79('0xad'));}}function virtualKeyPressed(){socket[_0x4a79('0xaa')]('1,'+this[_0x4a79('0xae')](_0x4a79('0xaf')));}function setCookie(_0x42a750,_0x1c14da,_0xbf2d9b){var _0x16f6f4='';if(_0xbf2d9b){var _0x1ebdb5=new Date();_0x1ebdb5[_0x4a79('0xb0')](_0x1ebdb5[_0x4a79('0xb1')]()+0x3e8*(0x3c*(0x3c*(0x18*_0xbf2d9b)))),_0x16f6f4=';\x20expires='+_0x1ebdb5[_0x4a79('0xb2')]();}document[_0x4a79('0xb3')]=_0x42a750+'='+(_0x1c14da||'')+_0x16f6f4+';\x20path=/';}function getCookie(_0x448ae1){for(var _0x150f3f,_0x515bd0=_0x448ae1+'=',_0x4793bc=document['cookie']['split'](';'),_0x8cbbdf=0x0;_0x8cbbdf<_0x4793bc[_0x4a79('0x1')];_0x8cbbdf++){for(_0x150f3f=_0x4793bc[_0x8cbbdf];'\x20'==_0x150f3f[_0x4a79('0xb4')](0x0);)_0x150f3f=_0x150f3f['substring'](0x1,_0x150f3f[_0x4a79('0x1')]);if(0x0==_0x150f3f[_0x4a79('0xb5')](_0x515bd0))return _0x150f3f[_0x4a79('0xb6')](_0x515bd0['length'],_0x150f3f[_0x4a79('0x1')]);}return null;}function eraseCookie(_0x3e734d){document[_0x4a79('0xb3')]=_0x3e734d+_0x4a79('0xb7');}function findGetParameter(_0x21c9c7){for(var _0x2ff1a5=[],_0x4d77c7=location[_0x4a79('0xb8')][_0x4a79('0x68')](0x1)['split']('&'),_0x2ba3b5=0x0;_0x2ba3b5<_0x4d77c7[_0x4a79('0x1')];_0x2ba3b5++)if(_0x2ff1a5=_0x4d77c7[_0x2ba3b5][_0x4a79('0x5f')]('='),_0x2ff1a5[0x0]===_0x21c9c7)return decodeURIComponent(_0x2ff1a5[0x1]);return'';}function initTiles(){var _0x136a62,_0x4d1d5f,_0xd92173,_0x1c63cd;for(i=0x0;i<TILES['length'];i++)if('#'!=TILES[i]['i'][_0x4a79('0xb4')](0x0)){TILES[i][_0x4a79('0x97')]=!0x0,_0x136a62=createCanvas(item_size,item_size),_0x4d1d5f=_0x136a62['getContext']('2d');var _0x3c034b=item_size_1/0x8,_0x45a253=0x2*_0x3c034b,_0x121e75=0x3*_0x3c034b,_0x23a271=0x5*_0x3c034b,_0x4d37b8=0x6*_0x3c034b,_0x30f2dd=0x7*_0x3c034b,_0x439a03=item_size_1/0xa,_0x3266c4=0x2*_0x439a03,_0x144497=0x3*_0x439a03,_0x21c7bd=0x4*_0x439a03,_0x25b29d=0x5*_0x439a03,_0x20868a=0x6*_0x439a03,_0x56e922=0x7*_0x439a03,_0x310501=0x8*_0x439a03,_0x285348=parseInt(_0x439a03+_0x439a03/0x2);switch(TILES[i]['i']){case _0x4a79('0x28'):var _0x2cb6a0=item_size_1/0xa,_0x37730e=0x8*_0x2cb6a0,_0x538e32=0x2*_0x2cb6a0;_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0xb9'),y=_0x2cb6a0,_0x4d1d5f[_0x4a79('0x8')](_0x2cb6a0,y,_0x37730e,_0x2cb6a0),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0x35'),y+=_0x2cb6a0,_0x4d1d5f[_0x4a79('0x8')](_0x2cb6a0,y,_0x37730e,_0x538e32),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0x31'),_0x4d1d5f['fillRect'](_0x2cb6a0,y,_0x538e32,_0x538e32),_0x4d1d5f[_0x4a79('0x8')](0x3*_0x538e32+_0x2cb6a0,y,_0x538e32,_0x538e32),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0xba'),y+=_0x538e32,_0x4d1d5f[_0x4a79('0x8')](_0x2cb6a0,y,_0x37730e,_0x538e32),_0x4d1d5f['fillStyle']=_0x4a79('0xbb'),y+=_0x538e32,_0x4d1d5f[_0x4a79('0x8')](_0x2cb6a0,y,_0x37730e,_0x538e32),_0x4d1d5f[_0x4a79('0x7')]='#FFFFFF',y+=_0x538e32,_0x4d1d5f['fillRect'](_0x2cb6a0,y,_0x37730e,_0x2cb6a0),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0xbc'),_0x4d1d5f[_0x4a79('0x8')](_0x538e32+_0x538e32,y,_0x538e32+_0x2cb6a0,_0x538e32);break;case _0x4a79('0x29'):_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0xbd'),_0x4d1d5f[_0x4a79('0x8')](_0x439a03,_0x285348,_0x310501,_0x56e922),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0xbe'),_0x4d1d5f[_0x4a79('0x8')](_0x3266c4,_0x285348,_0x439a03,_0x3266c4),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0x31'),_0x4d1d5f[_0x4a79('0x8')](_0x439a03,_0x21c7bd,_0x3266c4,_0x3266c4),_0x4d1d5f[_0x4a79('0x8')](_0x56e922,_0x21c7bd,_0x3266c4,_0x3266c4),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0x35'),_0x4d1d5f[_0x4a79('0x8')](_0x144497,_0x21c7bd,_0x439a03,_0x3266c4),_0x4d1d5f[_0x4a79('0x8')](_0x20868a,_0x21c7bd,_0x439a03,_0x3266c4),_0x4d1d5f[_0x4a79('0x7')]='#965151',_0x4d1d5f[_0x4a79('0x8')](_0x21c7bd,_0x56e922,_0x439a03,_0x439a03),_0x4d1d5f[_0x4a79('0x8')](_0x20868a,_0x56e922,_0x439a03,_0x439a03);break;case _0x4a79('0x2a'):_0x4d1d5f[_0x4a79('0x7')]='#573800',_0x4d1d5f[_0x4a79('0x8')](_0x439a03,_0x285348,_0x310501,_0x56e922),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0xbf'),_0x4d1d5f[_0x4a79('0x8')](_0x21c7bd,_0x285348,_0x3266c4,_0x3266c4),_0x4d1d5f[_0x4a79('0x8')](_0x21c7bd,_0x285348,_0x144497,_0x439a03),_0x4d1d5f['fillRect'](_0x21c7bd,_0x285348,_0x439a03,_0x144497),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0x35'),_0x4d1d5f[_0x4a79('0x8')](_0x439a03,_0x21c7bd,_0x3266c4,_0x3266c4),_0x4d1d5f[_0x4a79('0x8')](_0x56e922,_0x21c7bd,_0x3266c4,_0x3266c4),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0x31'),_0x4d1d5f[_0x4a79('0x8')](_0x439a03,_0x25b29d,_0x439a03,_0x439a03),_0x4d1d5f['fillRect'](_0x310501,_0x25b29d,_0x439a03,_0x439a03),_0x4d1d5f['fillStyle']=_0x4a79('0x35'),_0x4d1d5f[_0x4a79('0x8')](_0x21c7bd,_0x20868a,_0x3266c4,_0x439a03),_0x4d1d5f['fillRect'](_0x3266c4,_0x56e922,_0x25b29d+_0x439a03/0x2,_0x3266c4),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0x31'),_0x4d1d5f[_0x4a79('0x8')](_0x144497,_0x56e922,_0x439a03,_0x439a03),_0x4d1d5f['fillRect'](_0x20868a,_0x56e922,_0x439a03,_0x439a03),_0x4d1d5f['fillStyle']=_0x4a79('0xc0'),_0x4d1d5f[_0x4a79('0x8')](_0x144497,_0x310501,_0x21c7bd,_0x439a03);break;case _0x4a79('0x2b'):_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0x35'),_0x4d1d5f[_0x4a79('0x8')](_0x439a03,_0x285348,_0x310501,_0x56e922),_0x4d1d5f[_0x4a79('0x7')]='#977864',_0x4d1d5f[_0x4a79('0x8')](_0x3266c4,_0x3266c4,_0x20868a,_0x21c7bd),_0x4d1d5f[_0x4a79('0x8')](_0x144497,_0x20868a-0x1,_0x21c7bd,_0x3266c4+0x2),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0x31'),_0x4d1d5f[_0x4a79('0x8')](_0x3266c4,_0x21c7bd,_0x3266c4,_0x3266c4),_0x4d1d5f[_0x4a79('0x8')](_0x56e922,_0x21c7bd,_0x439a03,_0x3266c4),_0x4d1d5f[_0x4a79('0x7')]='#FFFFFF',_0x4d1d5f[_0x4a79('0x8')](_0x144497,_0x21c7bd,_0x439a03,_0x3266c4),_0x4d1d5f[_0x4a79('0x8')](_0x20868a,_0x21c7bd,_0x439a03,_0x3266c4),_0x4d1d5f[_0x4a79('0x7')]=_0x4a79('0xc1'),_0x4d1d5f[_0x4a79('0x8')](_0x21c7bd,_0x56e922,_0x3266c4,_0x439a03);break;case _0x4a79('0xc2'):_0x4d1d5f['fillStyle']='#616161',_0x4d1d5f[_0x4a79('0x8')](_0x45a253,_0x3c034b,_0x45a253,_0x30f2dd),_0x4d1d5f[_0x4a79('0x8')](_0x23a271,_0x3c034b,_0x45a253,_0x30f2dd),_0x4d1d5f[_0x4a79('0x8')](_0x3c034b,_0x4d37b8,_0x121e75,_0x45a253),_0x4d1d5f[_0x4a79('0x8')](_0x23a271,_0x4d37b8,_0x121e75,_0x45a253);break;case'XP1':_0xd92173=i,drawCircle(_0x4d1d5f,_0x3c034b,_0x4a79('0xc3'),_0x4a79('0xc4'),_0x4a79('0xc5'),!0x0);break;case'XP2':_0x1c63cd=i,drawCircle(_0x4d1d5f,_0x3c034b,_0x4a79('0xc6'),'#1fbf00',_0x4a79('0xc7'),!0x0);break;case _0x4a79('0x2e'):x=0.1*item_size_1,y=0.1*item_size_1,w=0.8*item_size_1,h=0.8*item_size_1,_0x4d1d5f[_0x4a79('0x0')](TILES[_0xd92173][_0x4a79('0x11')],x,y,w,h),_0x4d1d5f[_0x4a79('0x7')]=TILES[0x0]['i'],_0x4d1d5f[_0x4a79('0x8')](0x0,h,item_size_1,_0x3c034b),_0x4d1d5f[_0x4a79('0x8')](w,0x0,_0x3c034b,item_size_1);break;case'XP4':x=0.1*item_size_1,y=0.1*item_size_1,w=0.8*item_size_1,h=0.8*item_size_1,_0x4d1d5f['drawImage'](TILES[_0x1c63cd]['item'],x,y,w,h),_0x4d1d5f[_0x4a79('0x7')]=TILES[0x0]['i'],_0x4d1d5f[_0x4a79('0x8')](0x0,h,item_size_1,_0x3c034b),_0x4d1d5f['fillRect'](w,0x0,_0x3c034b,item_size_1);}TILES[i]['item']=_0x136a62;}else TILES[i]['item']=TILES[i]['i'],TILES[i][_0x4a79('0x97')]=!0x1;var _0x373d4b=item_size_1/0x5;heads={'#000000':createHead(_0x4a79('0x31'),_0x373d4b),'#FFFFFF':createHead(_0x4a79('0x35'),_0x373d4b),'#b50c0f':createHead(_0x4a79('0x4a'),_0x373d4b)};}function createHead(_0xb0d3a1,_0x2179a7){var _0x503c5b=0x3*_0x2179a7,_0x3c4de7={},_0x586983=document[_0x4a79('0x2')](_0x4a79('0x3'));_0x586983['height']=item_size,_0x586983['width']=item_size;var _0x337d6b=_0x586983[_0x4a79('0x6')]('2d');return _0x337d6b['fillStyle']=_0xb0d3a1,_0x337d6b[_0x4a79('0x8')](_0x2179a7,_0x2179a7,_0x2179a7,_0x2179a7),_0x337d6b[_0x4a79('0x8')](_0x503c5b,_0x2179a7,_0x2179a7,_0x2179a7),_0x3c4de7['up']=_0x586983,_0x586983=document['createElement'](_0x4a79('0x3')),_0x586983[_0x4a79('0x4')]=item_size,_0x586983[_0x4a79('0x5')]=item_size,_0x337d6b=_0x586983[_0x4a79('0x6')]('2d'),_0x337d6b[_0x4a79('0x7')]=_0xb0d3a1,_0x337d6b['fillRect'](_0x2179a7,_0x503c5b,_0x2179a7,_0x2179a7),_0x337d6b['fillRect'](_0x503c5b,_0x503c5b,_0x2179a7,_0x2179a7),_0x3c4de7[_0x4a79('0x94')]=_0x586983,_0x586983=document[_0x4a79('0x2')](_0x4a79('0x3')),_0x586983['height']=item_size,_0x586983[_0x4a79('0x5')]=item_size,_0x337d6b=_0x586983['getContext']('2d'),_0x337d6b[_0x4a79('0x7')]=_0xb0d3a1,_0x337d6b[_0x4a79('0x8')](_0x2179a7,_0x2179a7,_0x2179a7,_0x2179a7),_0x337d6b[_0x4a79('0x8')](_0x2179a7,_0x503c5b,_0x2179a7,_0x2179a7),_0x3c4de7[_0x4a79('0x95')]=_0x586983,_0x586983=document[_0x4a79('0x2')](_0x4a79('0x3')),_0x586983['height']=item_size,_0x586983[_0x4a79('0x5')]=item_size,_0x337d6b=_0x586983[_0x4a79('0x6')]('2d'),_0x337d6b[_0x4a79('0x7')]=_0xb0d3a1,_0x337d6b[_0x4a79('0x8')](_0x503c5b,_0x2179a7,_0x2179a7,_0x2179a7),_0x337d6b[_0x4a79('0x8')](_0x503c5b,_0x503c5b,_0x2179a7,_0x2179a7),_0x3c4de7[_0x4a79('0x12')]=_0x586983,_0x3c4de7;}function drawCircle(_0x6d621,_0x51b9f6,_0x537635,_0x1acf07,_0xa970b3,_0x39022d,_0xcf4018){_0xcf4018===void 0x0&&(_0xcf4018=0x0);var _0x32e435=0x2*_0x51b9f6,_0xb08783=0x3*_0x51b9f6,_0xe46e42=0x4*_0x51b9f6,_0x10c835=0x5*_0x51b9f6,_0x235962=0x6*_0x51b9f6,_0x236207=_0x51b9f6/0x2;_0x51b9f6+=_0xcf4018,_0x6d621[_0x4a79('0x7')]=_0x537635,_0x6d621[_0x4a79('0x8')](_0x51b9f6,_0x51b9f6,_0x235962,_0x235962),_0x6d621[_0x4a79('0x7')]=_0x1acf07,_0x6d621['fillRect'](_0x32e435,_0x32e435,_0xe46e42,_0xe46e42),_0x6d621['fillStyle']=_0xa970b3,_0x6d621[_0x4a79('0x8')](_0xb08783,_0xb08783,_0x32e435,_0x32e435),_0x39022d&&(_0x6d621['fillStyle']=TILES[0x0]['i'],_0x6d621[_0x4a79('0x8')](0x0,0x0,_0x32e435+_0x236207,_0x51b9f6+_0x236207),_0x6d621[_0x4a79('0x8')](0x0,0x0,_0x32e435,_0x32e435),_0x6d621[_0x4a79('0x8')](0x0,0x0,_0x51b9f6+_0x236207,_0x32e435+_0x236207),_0x6d621[_0x4a79('0x8')](_0x235962+_0x236207,0x0,_0x51b9f6+_0x236207,_0x32e435+_0x236207),_0x6d621[_0x4a79('0x8')](_0x235962,0x0,_0x32e435,_0x32e435),_0x6d621[_0x4a79('0x8')](_0x10c835+_0x236207,0x0,_0x32e435+_0x236207,_0x51b9f6+_0x236207),_0x6d621[_0x4a79('0x8')](0x0,_0x10c835+_0x236207,_0x51b9f6+_0x236207,_0x32e435+_0x236207),_0x6d621['fillRect'](0x0,_0x235962,_0x32e435,_0x32e435),_0x6d621[_0x4a79('0x8')](0x0,_0x235962+_0x236207,_0x32e435+_0x236207,_0x51b9f6+_0x236207),_0x6d621[_0x4a79('0x8')](_0x235962+_0x236207,_0x10c835+_0x236207,_0x51b9f6+_0x236207,_0x32e435+_0x236207),_0x6d621['fillRect'](_0x235962,_0x235962,_0x32e435,_0x32e435),_0x6d621[_0x4a79('0x8')](_0x10c835+_0x236207,_0x235962+_0x236207,_0x32e435+_0x236207,_0x51b9f6+_0x236207));}function prepareGame(){smallScreen=window[_0x4a79('0xc8')]<SMALL_SCREEN,rankingSize=smallScreen?0x4:RANKING_SIZE;var _0x12a5c4=document[_0x4a79('0x17')](_0x4a79('0xc9')),_0x256966=document['getElementById']('canvas'),_0x7bce7f=document[_0x4a79('0x17')](_0x4a79('0xca'));if(width=_0x256966[_0x4a79('0x5')]=_0x7bce7f[_0x4a79('0x5')]=_0x12a5c4[_0x4a79('0x5')]=window[_0x4a79('0xc8')],height=_0x256966[_0x4a79('0x4')]=_0x7bce7f['height']=_0x12a5c4[_0x4a79('0x4')]=window[_0x4a79('0xcb')],horizontal_items=DESIRED_HORIZONTAL_ITEMS,item_size=parseInt(width/(horizontal_items-0x3)),0x1a>item_size){for(;0x0!=item_size%0x8;)item_size++;horizontal_items=parseInt(width/ item_size)+0x1+0x2;}item_size_1=item_size-0x2,vertical_items=parseInt(height/ item_size)+0x1+0x2,vertical_items_half=parseInt(vertical_items/0x2),horizontal_items_half=parseInt(horizontal_items/0x2),offset_i_left=parseInt(vertical_items/0x2),offset_j_left=parseInt(horizontal_items/0x2),offset_i_right=vertical_items-offset_i_left,offset_j_right=horizontal_items-offset_j_left,focus_offset_i=parseInt(vertical_items*FOCUS_OFFSET_PERCENTAGE),focus_offset_j=parseInt(horizontal_items*FOCUS_OFFSET_PERCENTAGE),ctx_below=_0x12a5c4[_0x4a79('0x6')]('2d'),ctx_below['fillStyle']=grid_color,ctx_below[_0x4a79('0x8')](0x0,0x0,width,height),ctx=_0x256966['getContext']('2d'),ctx_above=_0x7bce7f[_0x4a79('0x6')]('2d'),ctx_above[_0x4a79('0xcc')]='left',ctx_above[_0x4a79('0xcd')]='top',ctx_above[_0x4a79('0xce')]=_0x4a79('0xcf'),ctx_above[_0x4a79('0x7')]=_0x4a79('0x35'),crown[DIRECTION_DOWN]=createCrown(item_size,item_size,DIRECTION_DOWN),crown[DIRECTION_UP]=createCrown(item_size,item_size,DIRECTION_UP),crown[DIRECTION_RIGHT]=createCrown(item_size,item_size,DIRECTION_RIGHT),crown[DIRECTION_LEFT]=createCrown(item_size,item_size,DIRECTION_LEFT),initTilesArray(),drawGrid(!0x1),initTiles(),avatar_canvas=document['getElementById'](_0x4a79('0xd0')),avatar_canvas&&initAvatarChooser();var _0x82fa69=document['getElementById'](_0x4a79('0x73'));if(_0x4a79('0x79')==navigator[_0x4a79('0x7a')]||'1'===findGetParameter('n')){var _0x5be91a=document['getElementById']('ads');_0x5be91a&&_0x5be91a[_0x4a79('0xd1')](),_0x4a79('0x79')==navigator['userAgent']&&document[_0x4a79('0x17')](_0x4a79('0x7b'))[_0x4a79('0xd1')]();}else{var _0x1289ba=parseInt(window['getComputedStyle'](_0x82fa69)['top'][_0x4a79('0xd2')]('px','')),_0x9fc220=document['getElementById'](_0x4a79('0x78'));_0x9fc220&&(_0x9fc220[_0x4a79('0x63')][_0x4a79('0xd3')]=_0x82fa69['offsetHeight']+_0x1289ba+'px',(adsbygoogle=window[_0x4a79('0xd4')]||[])[_0x4a79('0x5e')]({}));}var _0x171034=document[_0x4a79('0xd5')](_0x4a79('0xd6'));if(_0x171034){var _0x299981,_0x47175e=(smallScreen?0x3:0x5)*item_size;_0x299981=_0x82fa69[_0x4a79('0xd7')]<_0x47175e?(_0x82fa69[_0x4a79('0xd7')]-_0x171034[_0x4a79('0xd8')])/0x2+'px':(_0x47175e-_0x171034[_0x4a79('0xd8')])/0x2+'px',_0x171034[_0x4a79('0x63')][_0x4a79('0xd9')]=_0x299981;}}window[_0x4a79('0x1b')](_0x4a79('0xda'),function(_0x2ebc96){connected?mustPrepare=!0x0:prepareGame(_0x2ebc96);}),document[_0x4a79('0x1b')](_0x4a79('0xdb'),function(){arrow_top=document[_0x4a79('0x17')](_0x4a79('0xdc')),arrow_right=document['getElementById'](_0x4a79('0xdd')),arrow_bottom=document[_0x4a79('0x17')]('arrow-bottom'),arrow_left=document[_0x4a79('0x17')](_0x4a79('0xde'));var _0x1c3b99=parseInt(0.15*window[_0x4a79('0xc8')]);0x46<_0x1c3b99?_0x1c3b99=_0x4a79('0xdf'):_0x1c3b99+='px',arrow_top[_0x4a79('0x63')][_0x4a79('0x5')]=_0x1c3b99,arrow_right[_0x4a79('0x63')]['height']=_0x1c3b99,arrow_bottom[_0x4a79('0x63')][_0x4a79('0x5')]=_0x1c3b99,arrow_left[_0x4a79('0x63')]['height']=_0x1c3b99,initSounds();var _0x473f03=document[_0x4a79('0x17')](_0x4a79('0x66'));_0x473f03&&(document['getElementById'](_0x4a79('0x66'))[_0x4a79('0x67')]=getCookie(_0x4a79('0x66')));var _0x404148=document[_0x4a79('0x17')]('server');if(_0x404148){if(_0x4a79('0xe0')===findGetParameter(_0x4a79('0xe1'))){var _0x59a930=document[_0x4a79('0x2')]('option');_0x59a930[_0x4a79('0x67')]=_0x4a79('0xe2'),_0x59a930[_0x4a79('0xe3')]=_0x59a930[_0x4a79('0x67')],_0x404148[_0x4a79('0xa4')](_0x59a930),_0x59a930=document[_0x4a79('0x2')](_0x4a79('0xe4')),_0x59a930['value']=_0x4a79('0xe5'),_0x59a930[_0x4a79('0xe3')]=_0x4a79('0xe6'),_0x404148[_0x4a79('0xa4')](_0x59a930),_0x59a930=document[_0x4a79('0x2')](_0x4a79('0xe4')),_0x59a930[_0x4a79('0x67')]='cool-leaf-us.herokuapp.com',_0x59a930[_0x4a79('0xe3')]=_0x4a79('0xe7'),_0x404148[_0x4a79('0xa4')](_0x59a930),_0x59a930=document[_0x4a79('0x2')](_0x4a79('0xe4')),_0x59a930[_0x4a79('0x67')]=_0x4a79('0xe8'),_0x59a930[_0x4a79('0xe3')]='Secret\x20Reaches',_0x404148['appendChild'](_0x59a930),_0x59a930=document[_0x4a79('0x2')]('option'),_0x59a930[_0x4a79('0x67')]='fast-island-17183.herokuapp.com',_0x59a930[_0x4a79('0xe3')]=_0x4a79('0xe9'),_0x404148['appendChild'](_0x59a930);}getServerList(document[_0x4a79('0x17')](_0x4a79('0xea')));var _0x27cd33=getCookie('server');if(_0x27cd33)for(var _0x5b8752,_0x267263=_0x404148[_0x4a79('0xeb')],_0x1c5b09=0x0;_0x5b8752=_0x267263[_0x1c5b09];_0x1c5b09++)if(_0x5b8752[_0x4a79('0x67')]==_0x27cd33){_0x404148[_0x4a79('0xec')]=_0x1c5b09;break;}}var _0x319dc3=document[_0x4a79('0x17')](_0x4a79('0x61'));if(_0x319dc3){window['addEventListener'](_0x4a79('0xed'),keyPressed,!0x1),_0x319dc3[_0x4a79('0xee')]=function(_0x29163f){if(_0x29163f['target']['disabled']=!0x0,_0x29163f['target'][_0x4a79('0x63')][_0x4a79('0x64')]=_0x4a79('0xef'),!connected){resetCurrentMatrix();var _0x473f03=document[_0x4a79('0x17')](_0x4a79('0xea'))[_0x4a79('0x67')],_0x404148=document['getElementById']('nickname')[_0x4a79('0x67')];setCookie('nickname',_0x404148,0x12c),setCookie(_0x4a79('0xea'),_0x473f03,0x12c),connect(_0x473f03);}};for(var _0x3980ef=document[_0x4a79('0xf0')]('#keyboard\x20.key'),_0x15ab54=0x0;_0x15ab54<_0x3980ef[_0x4a79('0x1')];_0x15ab54++)_0x3980ef[_0x15ab54][_0x4a79('0x1b')](_0x4a79('0x19'),virtualKeyPressed);}prepareGame();}),function(){'use strict';if(navigator[_0x4a79('0x7a')][_0x4a79('0xf1')](/IEMobile\/10\.0/)){var _0x45aa28=document[_0x4a79('0x2')](_0x4a79('0x63'));_0x45aa28[_0x4a79('0xa4')](document[_0x4a79('0xf2')]('@-ms-viewport{width:auto!important}')),document[_0x4a79('0xd5')](_0x4a79('0x93'))[_0x4a79('0xa4')](_0x45aa28);}}();var ITEM_MAP_EMPTY=-0x1,ITEM_EMPTY=0x0;function Position(_0x5b5394,_0x50e9d7){this['x']=_0x5b5394,this['y']=_0x50e9d7;}function Pixel(_0x187381,_0x275a8c,_0x25bbb3){this[_0x4a79('0x84')]=new Position(0x0,0x0),this[_0x4a79('0x11')]=_0x25bbb3;}function MapPixel(_0x2bb565){this[_0x4a79('0x9a')]=ITEM_EMPTY,this[_0x4a79('0x9b')]=ITEM_EMPTY,this['map']=_0x2bb565;}MapPixel['prototype'][_0x4a79('0xf3')]=function(_0x19fccc){this['snake']=_0x19fccc,this[_0x4a79('0x9b')]=ITEM_EMPTY;},MapPixel[_0x4a79('0xf4')][_0x4a79('0x96')]=function(_0x471370){this[_0x4a79('0x9a')]=ITEM_EMPTY,this[_0x4a79('0x9b')]=_0x471370;};function ScreenPixel(_0x17b16e,_0x6da9ba){this['position']=new Position(_0x17b16e,_0x6da9ba),this[_0x4a79('0xf5')]=!0x0,this['direction']=ITEM_MAP_EMPTY,this[_0x4a79('0x99')]=ITEM_MAP_EMPTY,this[_0x4a79('0x9b')]=ITEM_EMPTY;}function getServerList(_0x647ffd){var _0xb0e827=new XMLHttpRequest();_0xb0e827[_0x4a79('0xf6')]=function(){var _0xb0e827=[];if(0x4==this[_0x4a79('0xf7')]&&0xc8==this['status']){for(var _0x3c06fe=JSON[_0x4a79('0xf8')](this['responseText']),_0x2ace8d=null,_0x56ab71=0x0;_0x56ab71<_0x3c06fe[_0x4a79('0x1')];_0x56ab71++)if(_0x2ace8d=_0x3c06fe[_0x56ab71],_0x2ace8d&&_0x2ace8d[_0x4a79('0xf9')]&&_0x2ace8d[_0x4a79('0xfa')]){_0xb0e827[_0x4a79('0x5e')](_0x2ace8d);var _0x48a417=document['createElement'](_0x4a79('0xe4'));_0x48a417[_0x4a79('0x6c')]=_0x2ace8d[_0x4a79('0xf9')],_0x48a417[_0x4a79('0xfb')](_0x4a79('0x67'),_0x2ace8d[_0x4a79('0xfa')]),_0x48a417[_0x4a79('0xfb')]('id',_0x2ace8d['url']),_0x647ffd[_0x4a79('0xa4')](_0x48a417);}_0x2ace8d=null,_0x3c06fe=null,getPlayersCount(_0xb0e827);}},_0xb0e827[_0x4a79('0xfc')]=function(){console[_0x4a79('0xfd')](_0x4a79('0xfe'));},_0xb0e827[_0x4a79('0xff')]('GET','api/servers',!0x0),_0xb0e827[_0x4a79('0xaa')]();}function getPlayersCount(_0x5ceffe){for(var _0x1ef093=0x0;_0x1ef093<_0x5ceffe[_0x4a79('0x1')];_0x1ef093++){var _0x268a40=_0x5ceffe[_0x1ef093],_0x13ee91=new WebSocket(_0x4a79('0x100')+_0x268a40['url']);_0x13ee91[_0x4a79('0x101')]=_0x4a79('0x60'),_0x13ee91[_0x4a79('0x102')]=function(_0x414c94){if(_0x414c94[_0x4a79('0x90')]instanceof ArrayBuffer){var _0x1ef093=new Uint8Array(_0x414c94[_0x4a79('0x90')]);if(_0x1ef093&&0x2==_0x1ef093[_0x4a79('0x1')]&&0x9==_0x1ef093[0x0]&&_0x1ef093[0x1]){var _0x268a40=_0x1ef093[0x1],_0x13ee91=_0x414c94[_0x4a79('0x103')][_0x4a79('0xfa')][_0x4a79('0xb6')](0x5,_0x414c94[_0x4a79('0x103')]['url'][_0x4a79('0x1')]-0x1),_0x57d30d=document['getElementById'](_0x13ee91);_0x57d30d[_0x4a79('0x6c')]=_0x57d30d['innerHTML']+'\x20-\x20'+_0x268a40+_0x4a79('0x104');}}_0x414c94[_0x4a79('0x103')][_0x4a79('0x92')]();};}}var walking_sound,MOBS_VOLUME=0x1,AMBIENCE_VOLUME=0.7;Array[_0x4a79('0xf4')][_0x4a79('0x105')]=function(){return this[Math[_0x4a79('0x1d')](Math['random']()*this[_0x4a79('0x1')])];};function initSounds(){walking_sound=new Audio('snd/sound.ogg');var _0x2154ba=[new Audio(_0x4a79('0x106'))];_0x2154ba[0x0][_0x4a79('0x107')]=MOBS_VOLUME;var _0x2f2eaf=new Audio(_0x4a79('0x108'));_0x2f2eaf[_0x4a79('0x107')]=MOBS_VOLUME;var _0x5057b7=new Audio(_0x4a79('0x109'));_0x5057b7[_0x4a79('0x107')]=MOBS_VOLUME;var _0x4b5bd4=new Audio(_0x4a79('0x10a'));_0x4b5bd4[_0x4a79('0x107')]=MOBS_VOLUME;var _0x4a0970=new Audio(_0x4a79('0x10b'));_0x4a0970[_0x4a79('0x107')]=0.8*MOBS_VOLUME;var _0x1050ec=new Audio(_0x4a79('0x10c'));_0x1050ec[_0x4a79('0x107')]=MOBS_VOLUME;var _0x1346c0=new Audio('snd/cowhurt.ogg');_0x1346c0[_0x4a79('0x107')]=0.4*MOBS_VOLUME;var _0xf1d8e=new Audio(_0x4a79('0x10d'));_0xf1d8e[_0x4a79('0x107')]=0x1;var _0x24e86a=new Audio(_0x4a79('0x10e')),_0x19ad94=new Audio(_0x4a79('0x10f'));sounds={16:[_0x5057b7,_0x4b5bd4],17:[_0x4a0970,_0x1050ec],18:[_0x1346c0,_0xf1d8e],19:[_0x24e86a,_0x19ad94],20:_0x2154ba,21:_0x2154ba,22:_0x2154ba,23:_0x2154ba,24:[_0x2f2eaf]},walking_sound[_0x4a79('0x107')]=AMBIENCE_VOLUME,walking_sound[_0x4a79('0x110')]=!0x0;}function startSound(){walking_sound[_0x4a79('0x111')]();}function stopSound(){var _0x33d04b=new Audio('snd/dead.ogg');_0x33d04b['volume']=MOBS_VOLUME;var _0x28f603=new Audio(_0x4a79('0x112'));_0x28f603[_0x4a79('0x107')]=MOBS_VOLUME,[_0x33d04b,_0x28f603]['choice']()['play'](),walking_sound['pause']();}function playSound(_0x252ec8){_0x252ec8&&(sound=sounds[_0x252ec8],sound&&sound[_0x4a79('0x105')]()['play']());}function createCanvas(_0x251173,_0x3692e0,_0x5e964f){var _0x5900ee=document[_0x4a79('0x2')](_0x4a79('0x3'));if(_0x5900ee['width']=_0x251173,_0x5900ee[_0x4a79('0x4')]=_0x3692e0,void 0x0!==_0x5e964f){var _0xc2efa1=_0x5900ee[_0x4a79('0x6')]('2d');_0xc2efa1[_0x4a79('0x0')](_0x5e964f,0x0,0x0,_0x251173,_0x3692e0);}return _0x5900ee;}function createCrown(_0x2f816b,_0x140fad,_0x536e2b){var _0x261a12=createCanvas(item_size,item_size),_0x4ce614=_0x261a12['getContext']('2d'),_0x5e916f=item_size_1/0x8,_0x16d6ea=item_size_1/0x3,_0x56e0f5=_0x5e916f/0x2;switch(_0x4ce614[_0x4a79('0x7')]=_0x4a79('0x113'),_0x536e2b){case DIRECTION_DOWN:_0x4ce614[_0x4a79('0x8')](0x0,0x0,item_size_1,_0x16d6ea),_0x4ce614['fillStyle']=_0x4a79('0x114');for(var _0x45ba8b=0x0;0x4>_0x45ba8b;_0x45ba8b++)_0x4ce614['fillRect'](_0x56e0f5+0x2*_0x45ba8b*_0x5e916f,_0x16d6ea,_0x5e916f,_0x5e916f);_0x4ce614[_0x4a79('0x7')]=_0x4a79('0x113'),_0x4ce614['fillRect'](_0x56e0f5+0x3*_0x5e916f,_0x16d6ea,_0x5e916f,0x2*_0x5e916f);break;case DIRECTION_UP:_0x4ce614['fillRect'](0x0,_0x140fad-_0x16d6ea,item_size_1,_0x16d6ea),_0x4ce614[_0x4a79('0x7')]='#CAB43A';for(var _0x45ba8b=0x0;0x4>_0x45ba8b;_0x45ba8b++)_0x4ce614[_0x4a79('0x8')](_0x56e0f5+0x2*_0x45ba8b*_0x5e916f,_0x140fad-_0x16d6ea-_0x5e916f,_0x5e916f,_0x5e916f);_0x4ce614['fillStyle']=_0x4a79('0x113'),_0x4ce614[_0x4a79('0x8')](_0x56e0f5+0x3*_0x5e916f,_0x140fad-_0x16d6ea-0x2*_0x5e916f,_0x5e916f,0x2*_0x5e916f);break;case DIRECTION_RIGHT:_0x4ce614[_0x4a79('0x8')](0x0,0x0,_0x16d6ea,item_size_1),_0x4ce614[_0x4a79('0x7')]=_0x4a79('0x114');for(var _0x45ba8b=0x0;0x4>_0x45ba8b;_0x45ba8b++)_0x4ce614[_0x4a79('0x8')](_0x16d6ea,_0x56e0f5+0x2*_0x45ba8b*_0x5e916f,_0x5e916f,_0x5e916f);_0x4ce614[_0x4a79('0x7')]=_0x4a79('0x113'),_0x4ce614[_0x4a79('0x8')](_0x16d6ea,_0x56e0f5+0x3*_0x5e916f,0x2*_0x5e916f,_0x5e916f);break;case DIRECTION_LEFT:_0x4ce614[_0x4a79('0x8')](_0x2f816b-_0x16d6ea,0x0,_0x16d6ea,item_size_1),_0x4ce614['fillStyle']=_0x4a79('0x114');for(var _0x45ba8b=0x0;0x4>_0x45ba8b;_0x45ba8b++)_0x4ce614['fillRect'](_0x2f816b-_0x16d6ea-_0x5e916f,_0x56e0f5+0x2*_0x45ba8b*_0x5e916f,_0x5e916f,_0x5e916f);_0x4ce614[_0x4a79('0x7')]=_0x4a79('0x113'),_0x4ce614[_0x4a79('0x8')](_0x2f816b-_0x16d6ea-0x2*_0x5e916f,_0x56e0f5+0x3*_0x5e916f,0x2*_0x5e916f,_0x5e916f);}return _0x261a12;}