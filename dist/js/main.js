var _0x4566=['innerHTML','close','error','message','game-container','display','game-stats','style','block','arrows','connect-form','none','navbar','footer','beta','ads','userAgent','social-buttons','appendChild','hideAds','keyboard','snacraft-app','showAds','data','direction','position','size','eyes','head','set','name_x','name_w','delete','speed','get','charCodeAt','down','name','color','setMob','setSnake','item','image','off','map','snake','mob','name_y','name_h','fillText','abs','measureText','fromCharCode','snake-size','</strong></td><td>','</td>','snake-speed','score','visibility','Score:\x20','connect-form-gameover','visible','keyCode','send','1,0','1,1','1,2','1,3','getAttribute','key','setTime',';\x20expires=','toUTCString','cookie',';\x20path=/','charAt','substring','indexOf','=;\x20Max-Age=-99999999;','substr','#e8e8e8','#967234','#f0acab','#d58181','#965151','#573800','#e7e7e7','#a5a5a5','#977864','#df9a9d','MOVE_SPEED','#bfbf00','#fefe00','XP2','#1fbf00','#2afe00','left','canvas_above','innerHeight','top','font','bold\x2015px\x20sans-serif','avatar','remove','replace','offsetHeight','adsbygoogle','querySelector','marginTop','resize','DOMContentLoaded','arrow-top','arrow-right','arrow-left','innerWidth','70px','value','server','true','debug','localhost:8080','text','long-flower-eu.herokuapp.com','option','[DEV]\x20Cool\x20leaf\x20US','fast-island-17183.herokuapp.com','options','selectedIndex','onclick','target','log','querySelectorAll','#keyboard\x20.key','match','createTextNode','@-ms-viewport{width:auto!important}','prototype','map_off','search','forEach','setAttribute','readyState','status','parse','responseText','title','url','onerror','Error\x20requesting\x20server\x20state','GET','api/servers','arraybuffer','onmessage','srcElement','\x20-\x20','/255\x20','snd/sound.ogg','volume','snd/gallop1.ogg','snd/chicken.ogg','snd/pigdeath.mp3','snd/pig.mp3','snd/cow.ogg','snd/sheep1.mp3','snd/sheep2.mp3','loop','snd/dead.ogg','snd/hurt.ogg','pause','choice','play','#DDC436','#CAB43A','length','canvas','height','width','getContext','fillStyle','fillRect','createElement','rect','strokeStyle','beginPath','moveTo','lineTo','stroke','drawImage','Zombie','Skeleton','right','mn-button\x20arrow-right','currentTarget','avatar-arrow-left','addEventListener','click','getElementById','avatar-arrow-right','floor','#80af49','#686868','#6e6e6e','#747474','#8e8e8e','#2b1608','#593d2a','#715036','#4b8435','#508935','#548c35','#7da658','PIG','COW','SHEEP','XP1','XP3','XP4','Diamond','#000000','#006064','Purple','#FFFFFF','#4A148C','#8E24AA','#E1BEE7','Wood','#322114','#9d7942','#1A237E','#303F9F','#9FA8DA','Teal','#009688','#00897B','#1e2c13','#385a27','ZombieShirt','#007876','#007e7b','ZombiePant','#3a3189','#463aa5','#939393','SkeletonBow','bow','#896727','Spider','#323232','#3f3f3f','#474747','#1a3516','#183114','#223d18','#274018','#1d1308','#2c1e15','#38281b','clearRect','clear','push','split','ws://','binaryType','open','connect','disabled','cursor','pointer','nickname','random','toString','snake-nickname'];(function(_0x2c54b5,_0x235d47){var _0x4511ec=function(_0x53cc1f){while(--_0x53cc1f){_0x2c54b5['push'](_0x2c54b5['shift']());}};_0x4511ec(++_0x235d47);}(_0x4566,0xad));var _0x677d=function(_0x5586c4,_0xdfc02d){_0x5586c4=_0x5586c4-0x0;var _0x16dc6e=_0x4566[_0x5586c4];return _0x16dc6e;};var items,avatar_snake_size,max_avatar_index,initial_av_index,avatar_ctx,avatar_canvas,SNAKE_SIZE=0x8,ITEMS=0xa,current_avatar_index=0x0,avatars=[];function debug(_0x25c570,_0x5cb99a,_0x23d427,_0x4437f2){ctx['drawImage'](_0x25c570,_0x5cb99a,_0x23d427,_0x4437f2,_0x4437f2);}function createAvatars(){initial_av_index=TILES[_0x677d('0x0')],current_avatar_index=initial_av_index;for(var _0x33092a=item_size/0x8,_0x314eb1=item_size+_0x33092a,_0x546feb=item_size+_0x33092a,_0x2c93fc=item_size/0x8,_0x337fc0=0x2*_0x2c93fc,_0x49ff31=0x0;_0x49ff31<colors[_0x677d('0x0')];_0x49ff31++){canvas=document['createElement'](_0x677d('0x1')),canvas[_0x677d('0x2')]=item_size,canvas[_0x677d('0x3')]=item_size,dctx=canvas[_0x677d('0x4')]('2d'),dctx[_0x677d('0x5')]=grid_color,dctx[_0x677d('0x6')](0x0,0x0,item_size,item_size),dctx['fillStyle']=TILES[0x0]['i'],dctx[_0x677d('0x6')](0x0,0x0,item_size_1,item_size_1),x=-_0x2c93fc,y=-_0x2c93fc,_0x314eb1=item_size_1+_0x337fc0,_0x546feb=item_size_1+_0x337fc0;var _0x313fe5=document[_0x677d('0x7')]('canvas');_0x313fe5['height']=item_size,_0x313fe5[_0x677d('0x3')]=item_size,colors[_0x49ff31][0x1]=heads[colors[_0x49ff31][0x1]];var _0x46dd71=_0x313fe5[_0x677d('0x4')]('2d');if(_0x677d('0x8')==colors[_0x49ff31][0x2])drawCircle(_0x46dd71,_0x2c93fc,colors[_0x49ff31][0x3],colors[_0x49ff31][0x4],colors[_0x49ff31][0x5],!0x1);else if('bow'==colors[_0x49ff31][0x2]){drawCircle(_0x46dd71,_0x2c93fc,colors[_0x49ff31][0x3],colors[_0x49ff31][0x4],colors[_0x49ff31][0x4],!0x1);var _0x3b613d=_0x2c93fc/0x2,_0x4167e0=0x3*_0x2c93fc,_0x309efb=_0x337fc0,_0x2d7ed2=_0x546feb-0x4*_0x2c93fc;_0x46dd71['fillStyle']=colors[_0x49ff31][0x5];for(var _0x1ffc44=0x0;0x3>_0x1ffc44;_0x1ffc44++)_0x46dd71[_0x677d('0x6')](_0x309efb,_0x2d7ed2,_0x2c93fc,_0x2c93fc),_0x309efb+=_0x3b613d,_0x2d7ed2-=0x2*_0x3b613d;for(var _0x1ffc44=0x0;0x3>_0x1ffc44;_0x1ffc44++)_0x46dd71[_0x677d('0x6')](_0x309efb,_0x2d7ed2,_0x2c93fc,_0x2c93fc),_0x309efb+=0x2*_0x3b613d,_0x2d7ed2-=_0x3b613d;_0x46dd71[_0x677d('0x9')]=colors[_0x49ff31][0x6],_0x46dd71[_0x677d('0xa')](),_0x46dd71[_0x677d('0xb')](_0x337fc0+_0x3b613d,_0x546feb-_0x4167e0),_0x46dd71[_0x677d('0xc')](_0x314eb1-_0x4167e0,_0x337fc0),_0x46dd71[_0x677d('0xd')](),dctx[_0x677d('0xe')](_0x313fe5,x,y,_0x314eb1,_0x546feb);}dctx[_0x677d('0xe')](_0x313fe5,x,y,_0x314eb1,_0x546feb),TILES[initial_av_index+_0x49ff31]={'item':canvas,'off':!0x1,'image':!0x0},_0x677d('0xf')===colors[_0x49ff31][0x0]?(ZOMBIE_INDEX=TILES[_0x677d('0x0')]-0x1,ZOMBIE_SHIRT=ZOMBIE_INDEX+0x1,ZOMBIE_PANT=ZOMBIE_SHIRT+0x1):_0x677d('0x10')===colors[_0x49ff31][0x0]?(SKELETON_INDEX=TILES[_0x677d('0x0')]-0x1,SKELETON_BOW=SKELETON_INDEX+0x1):0x4==_0x49ff31&&(max_avatar_index=TILES['length']);}}function drawAvatar(_0x185f10){var _0x49d368=0x21/0x8,_0xdf1fc=TILES[_0x185f10];head_canvas=colors[_0x185f10-initial_av_index][0x1],x=_0x49d368;var _0x176f4c=parseInt((items-avatar_snake_size)/0x2),_0x534aa6=avatar_snake_size+_0x176f4c;for(i=0x0;i<_0x534aa6;i++)i>=_0x176f4c&&(avatar_ctx[_0x677d('0xe')](_0xdf1fc['item'],x,0x2*_0x49d368,0x21,0x21),i==_0x534aa6-0x1&&avatar_ctx[_0x677d('0xe')](head_canvas[_0x677d('0x11')],x,0x2*_0x49d368,0x21,0x21)),x+=0x21;}function changeAvatar(_0x59ba62){_0x677d('0x12')===_0x59ba62[_0x677d('0x13')]['className']?(current_avatar_index++,current_avatar_index===max_avatar_index&&(current_avatar_index=initial_av_index)):(current_avatar_index--,current_avatar_index===initial_av_index-0x1&&(current_avatar_index=max_avatar_index-0x1)),drawAvatar(current_avatar_index);}function initAvatarChooser(){avatar_ctx=avatar_canvas[_0x677d('0x4')]('2d');var _0x1b3015=0.2*0x21;items=smallScreen?0x6:ITEMS,avatar_snake_size=items-0x2;var _0x5d803b=items*0x21+0x2*_0x1b3015;for(avatar_canvas[_0x677d('0x2')]=0x21+0x2*_0x1b3015,avatar_canvas[_0x677d('0x3')]=_0x5d803b,avatar_ctx[_0x677d('0x5')]=TILES[0x0]['i'],avatar_ctx['fillRect'](0x0,0x0,avatar_canvas[_0x677d('0x3')],avatar_canvas[_0x677d('0x2')]),avatar_ctx['strokeStyle']=grid_color,avatar_ctx['beginPath'](),avatar_ctx['moveTo'](0x0,_0x1b3015),avatar_ctx[_0x677d('0xc')](avatar_canvas['width'],_0x1b3015),avatar_ctx['stroke'](),avatar_ctx[_0x677d('0xa')](),avatar_ctx[_0x677d('0xb')](0x0,_0x1b3015+0x21),avatar_ctx['lineTo'](avatar_canvas['width'],_0x1b3015+0x21),avatar_ctx[_0x677d('0xd')](),x=_0x1b3015,i=0x0;i<items;i++)avatar_ctx['beginPath'](),avatar_ctx[_0x677d('0xb')](x,0x0),avatar_ctx[_0x677d('0xc')](x,avatar_canvas[_0x677d('0x2')]),avatar_ctx[_0x677d('0xd')](),x+=0x21;createAvatars(),drawAvatar(current_avatar_index),document['getElementById'](_0x677d('0x14'))[_0x677d('0x15')](_0x677d('0x16'),changeAvatar),document[_0x677d('0x17')](_0x677d('0x18'))[_0x677d('0x15')](_0x677d('0x16'),changeAvatar);}var ZOMBIE_INDEX,ZOMBIE_SHIRT,ZOMBIE_PANT,SKELETON_INDEX,SKELETON_BOW,rankingSize,mobs_data,cur_i,cur_j,cur_id,k,l,size_most,size_less,arrow_top,arrow_right,arrow_bottom,arrow_left,socket,nickname,id,snakes_count,snake_size,tile,previous,snake,current_screen,current_server,heads,i_start,i_end,horizontal_items,vertical_items,vertical_items_half,horizontal_items_half,focus_offset_i,focus_offset_j,colors,TILES,sounds,ctx_below,ctx,ctx_above,width,height,i,j,leaderBoardTable,tBodyElem,snakeRanking,KEY_UP=0x57,KEY_DOWN=0x53,KEY_LEFT=0x41,KEY_RIGHT=0x44,KEY_UP_1=0x26,KEY_DOWN_1=0x28,KEY_LEFT_1=0x25,KEY_RIGHT_1=0x27,DIRECTION_DOWN=0x0,DIRECTION_RIGHT=0x1,DIRECTION_LEFT=0x2,DIRECTION_UP=0x3,SMALL_SCREEN=0x2a8,RANKING_SIZE=0x8,mustPrepare=!0x1,smallScreen=!0x1,FOCUS_OFFSET_PERCENTAGE=0.2,TILE_MOVE_SPEED=0x5,NAMES_HEIGHT=0xf,server_matrix=[],current_screen_matrix=[],room_leader=null,crown={},players_list=new Map(),connected=!0x1,leaderboard=[],first=!0x0,my_snake=null,lines=0x0,columns=0x0,center_i=0x0,center_j=0x0,head_i=0x0,head_j=0x0,data=null,eyes_color='#000000',offset_i_left=0x0,offset_j_left=0x0,offset_i_right=0x0,offset_j_right=0x0,j_start=0x0,j_end=0x0,grid_color='#6d953e',DESIRED_HORIZONTAL_ITEMS=0x37,item_size=0x1a,item_size_1=item_size-0x2;function randomInt(_0x9bdddd,_0x48f9ce){return Math[_0x677d('0x19')](Math['random']()*(_0x48f9ce-_0x9bdddd+0x1)+_0x9bdddd);}function initTilesArray(){TILES=[{'i':_0x677d('0x1a'),'off':!0x1},{'i':_0x677d('0x1b'),'off':!0x0},{'i':_0x677d('0x1c'),'off':!0x0},{'i':_0x677d('0x1d'),'off':!0x0},{'i':'#7e7e7e','off':!0x0},{'i':_0x677d('0x1e'),'off':!0x0},{'i':_0x677d('0x1f'),'off':!0x0},{'i':'#3b2711','off':!0x0},{'i':_0x677d('0x20'),'off':!0x0},{'i':_0x677d('0x21'),'off':!0x0},{'i':'#76553a','off':!0x0},{'i':'#346a2c','off':!0x0},{'i':_0x677d('0x22'),'off':!0x0},{'i':_0x677d('0x23'),'off':!0x0},{'i':_0x677d('0x24'),'off':!0x0},{'i':_0x677d('0x25'),'off':!0x0},{'i':'CHICKEN','off':!0x1},{'i':_0x677d('0x26'),'off':!0x1},{'i':_0x677d('0x27'),'off':!0x1},{'i':_0x677d('0x28'),'off':!0x1},{'i':_0x677d('0x29'),'off':!0x1},{'i':'XP2','off':!0x1},{'i':_0x677d('0x2a'),'off':!0x1},{'i':_0x677d('0x2b'),'off':!0x1},{'i':'MOVE_SPEED','off':!0x1}],colors=[[_0x677d('0x2c'),_0x677d('0x2d'),_0x677d('0x8'),_0x677d('0x2e'),'#00BCD4','#B2EBF2'],[_0x677d('0x2f'),_0x677d('0x30'),_0x677d('0x8'),_0x677d('0x31'),_0x677d('0x32'),_0x677d('0x33')],[_0x677d('0x34'),'#FFFFFF',_0x677d('0x8'),_0x677d('0x35'),'#8d6b3c',_0x677d('0x36')],['Indigo',_0x677d('0x30'),'rect',_0x677d('0x37'),_0x677d('0x38'),_0x677d('0x39')],[_0x677d('0x3a'),_0x677d('0x2d'),_0x677d('0x8'),_0x677d('0x3b'),'#4DB6AC',_0x677d('0x3c')],[_0x677d('0xf'),_0x677d('0x2d'),_0x677d('0x8'),_0x677d('0x3d'),_0x677d('0x3e'),'#567943'],[_0x677d('0x3f'),_0x677d('0x2d'),_0x677d('0x8'),_0x677d('0x40'),_0x677d('0x41'),'#007e7b'],[_0x677d('0x42'),'#000000',_0x677d('0x8'),_0x677d('0x43'),_0x677d('0x44'),'#463aa5'],['Skeleton',_0x677d('0x2d'),_0x677d('0x8'),_0x677d('0x1b'),_0x677d('0x45'),_0x677d('0x45')],[_0x677d('0x46'),_0x677d('0x2d'),_0x677d('0x47'),_0x677d('0x1b'),_0x677d('0x45'),_0x677d('0x48'),'#444444'],[_0x677d('0x49'),'#b50c0f',_0x677d('0x8'),'#050404','#18151c','#211d27']];}function drawGrid(_0x4fe3fd){var _0x3be12b,_0x5e7cc9=0x0,_0x148486=!0x0,_0x14c4f=(smallScreen?0x3:0x5)*item_size,_0x47ee85=(vertical_items-0x6)*item_size,_0x26edaf=[_0x677d('0x4a'),'#373737','#3a3a3a',_0x677d('0x4b'),_0x677d('0x4c')],_0x33f8a5=[_0x677d('0x4d'),_0x677d('0x4e'),_0x677d('0x4f'),_0x677d('0x50'),'#3e532c'],_0x4c2a07=['#150b04',_0x677d('0x51'),_0x677d('0x52'),_0x677d('0x53'),'#3b2a1d'];for(ctx_above[_0x677d('0x54')](0x0,0x0,width,height),ctx[_0x677d('0x54')](0x0,0x0,width,_0x14c4f+item_size),ctx[_0x677d('0x54')](0x0,_0x47ee85,width,height),i=0x0;i<vertical_items+0x1;i++){for(_0x3be12b=0x0,j=0x0;j<horizontal_items+0x1;j++){if(_0x5e7cc9>=_0x47ee85)_0x148486?(ctx_below['fillStyle']=_0x33f8a5[randomInt(0x0,0x4)],ctx_below[_0x677d('0x6')](_0x3be12b,_0x5e7cc9,item_size,item_size)):(ctx_below[_0x677d('0x5')]=_0x4c2a07[randomInt(0x0,0x4)],ctx_below['fillRect'](_0x3be12b,_0x5e7cc9,item_size,item_size));else if(_0x5e7cc9<=_0x14c4f)ctx_below['fillStyle']=_0x26edaf[randomInt(0x0,0x4)],ctx_below[_0x677d('0x6')](_0x3be12b,_0x5e7cc9,item_size,item_size);else if(_0x4fe3fd)break;else ctx_below[_0x677d('0x5')]=TILES[0x0]['i'],ctx_below['fillRect'](_0x3be12b,_0x5e7cc9,item_size_1,item_size_1);_0x3be12b+=item_size;}_0x5e7cc9>=_0x47ee85&&(_0x148486=!0x1),_0x5e7cc9+=item_size;}}function resetCurrentMatrix(){ctx['clearRect'](0x0,0x0,width,height),players_list[_0x677d('0x55')](),ctx_above[_0x677d('0x54')](0x0,0x0,width,height),my_snake={};var _0x4b8a66,_0x81ca68,_0x399343=-item_size;for(current_matrix_screen=[],i=0x0;i<vertical_items;i++){for(lineMobs=[],_0x4b8a66=[],_0x81ca68=-item_size,j=0x0;j<horizontal_items;j++)_0x4b8a66[_0x677d('0x56')](new ScreenPixel(_0x81ca68,_0x399343)),_0x81ca68+=item_size;_0x399343+=item_size,current_matrix_screen[_0x677d('0x56')](_0x4b8a66);}}function initMatrix(_0x135265){var _0x2a1eac=_0x135265[_0x677d('0x57')](',');lines=parseInt(_0x2a1eac[0x1]),columns=parseInt(_0x2a1eac[0x2]),server_matrix=[];var _0xca0cc7,_0x174ebc=0x3;for(i=0x0;i<lines;i++){for(_0xca0cc7=[],j=0x0;j<columns;j++)_0xca0cc7['push'](new MapPixel(parseInt(_0x2a1eac[_0x174ebc]))),_0x174ebc++;server_matrix[i]=_0xca0cc7;}}function connect(_0x2fa2b9){socket=new WebSocket(_0x677d('0x58')+_0x2fa2b9),socket[_0x677d('0x59')]='arraybuffer',socket['addEventListener'](_0x677d('0x5a'),function(){connected=!0x0;var _0x2fa2b9=document['getElementById'](_0x677d('0x5b'));_0x2fa2b9[_0x677d('0x5c')]=!0x1,_0x2fa2b9['style'][_0x677d('0x5d')]=_0x677d('0x5e'),startGame(),nickname=document['getElementById'](_0x677d('0x5f'))['value'],nickname?0xa<nickname['length']&&(nickname=nickname['substr'](0x0,0xa)):nickname='snake-'+parseInt(0x186a0*Math[_0x677d('0x60')]())[_0x677d('0x61')](),socket['send'](nickname+','+current_avatar_index),document[_0x677d('0x17')](_0x677d('0x62'))[_0x677d('0x63')]=nickname;}),socket[_0x677d('0x15')](_0x677d('0x64'),function(){closeGame();}),socket['addEventListener'](_0x677d('0x65'),function(){closeGame();}),socket[_0x677d('0x15')](_0x677d('0x66'),onMessage);}function startGame(){document[_0x677d('0x17')](_0x677d('0x67'))['style'][_0x677d('0x68')]='block',document['getElementById'](_0x677d('0x69'))[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6b'),document['getElementById']('keyboard')[_0x677d('0x6a')]['display']=_0x677d('0x6b'),document[_0x677d('0x17')](_0x677d('0x6c'))['style'][_0x677d('0x68')]=_0x677d('0x6b'),document[_0x677d('0x17')](_0x677d('0x6d'))[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e'),document[_0x677d('0x17')](_0x677d('0x6f'))[_0x677d('0x6a')][_0x677d('0x68')]='none',document[_0x677d('0x17')](_0x677d('0x70'))[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e'),document['getElementById'](_0x677d('0x71'))[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e');var _0x5ee5ad=document[_0x677d('0x17')](_0x677d('0x72'));_0x5ee5ad&&(_0x5ee5ad[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e')),'snacraft-app'!=navigator[_0x677d('0x73')]&&(document[_0x677d('0x17')](_0x677d('0x74'))['style'][_0x677d('0x68')]=_0x677d('0x6e')),leaderBoardTable=document['getElementById']('leader-board-table'),tBodyElem=document[_0x677d('0x7')]('tbody'),leaderBoardTable[_0x677d('0x63')]='',leaderBoardTable[_0x677d('0x75')](tBodyElem),snakeRanking=document['getElementById']('snake-ranking'),'undefined'!=typeof app&&app[_0x677d('0x76')](),startSound();}function closeGame(){socket=null,connected=!0x1,document[_0x677d('0x17')](_0x677d('0x5b'))['disabled']=!0x1,document[_0x677d('0x17')](_0x677d('0x69'))[_0x677d('0x6a')][_0x677d('0x68')]='none',document[_0x677d('0x17')](_0x677d('0x6c'))[_0x677d('0x6a')]['display']=_0x677d('0x6e'),smallScreen&&(document['getElementById'](_0x677d('0x77'))[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e')),document[_0x677d('0x17')](_0x677d('0x6d'))['style'][_0x677d('0x68')]=_0x677d('0x6b'),document['getElementById'](_0x677d('0x6f'))['style'][_0x677d('0x68')]=_0x677d('0x6b'),document[_0x677d('0x17')](_0x677d('0x70'))[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6b'),document[_0x677d('0x17')](_0x677d('0x71'))['style']['display']=_0x677d('0x6b');var _0x341734=document['getElementById'](_0x677d('0x72'));_0x341734&&(_0x341734[_0x677d('0x6a')]['display']=_0x677d('0x6b')),_0x677d('0x78')!=navigator['userAgent']&&(document[_0x677d('0x17')](_0x677d('0x74'))[_0x677d('0x6a')]['display']=_0x677d('0x6b')),'undefined'!=typeof app&&app[_0x677d('0x79')](),stopSound();}function onMessage(_0x35c940){if(_0x35c940[_0x677d('0x7a')]instanceof ArrayBuffer)switch(data=new Uint8Array(_0x35c940['data']),data[0x0]){case 0x1:id=data[0x1],color=data[0x2],head_i=data[0x3],head_j=data[0x4],center_i=head_i,center_j=head_j,my_snake['id']=id,my_snake['name']=nickname,my_snake['i']=head_i,my_snake['j']=head_j,my_snake[_0x677d('0x7b')]=DIRECTION_UP,my_snake[_0x677d('0x7c')]=players_list[_0x677d('0x7d')],my_snake['color']=color,my_snake[_0x677d('0x7e')]=colors[color-initial_av_index][0x1],my_snake[_0x677d('0x7f')]=colors[color-initial_av_index][0x1]['up'],initPlayer(my_snake),players_list[_0x677d('0x80')](id,my_snake);break;case 0xc:mobs_data=data,getServerMobs(),drawMobsAtMap(),drawRoomLeader(),first=!0x1,drawLeaderboard();break;case 0x2:mobs_data=data,_0x4b892a=0x1,j=0x1,getServerMobsChanges(),drawMobsAtMap(),drawRoomLeader();break;case 0x7:initPlayersList(data);break;case 0x8:snake=players_list['get'](data[0x1]),snake&&(ctx_above[_0x677d('0x54')](snake[_0x677d('0x81')]-0x2,snake['name_y']-0x2,snake[_0x677d('0x82')],snake['name_h']),players_list[_0x677d('0x83')](data[0x1]));break;case 0x9:break;case 0xa:playSound(data[0x1]);break;case 0xb:my_snake[_0x677d('0x84')]=data[0x1],drawSpeed();break;case 0xd:leaderboard=[];for(var _0x4b892a=0x1;_0x4b892a<data[_0x677d('0x0')];_0x4b892a++)leaderboard[_0x677d('0x56')](data[_0x4b892a]);room_leader=players_list[_0x677d('0x85')](leaderboard[0x0]),drawLeaderboard();}else if('string'==typeof _0x35c940[_0x677d('0x7a')])switch(data=_0x35c940[_0x677d('0x7a')],data[_0x677d('0x86')](0x0)){case 0x0:initMatrix(data);break;case 0x4:socket[_0x677d('0x64')](),drawGameover();}}function updateSnakeDirection(_0x2e0573,_0xc4eae3,_0x475473){_0x2e0573['i']<_0xc4eae3?(_0x2e0573[_0x677d('0x7f')]=_0x2e0573[_0x677d('0x7e')][_0x677d('0x87')],_0x2e0573[_0x677d('0x7b')]=DIRECTION_DOWN):_0x2e0573['j']<_0x475473?(_0x2e0573[_0x677d('0x7f')]=_0x2e0573[_0x677d('0x7e')][_0x677d('0x11')],_0x2e0573[_0x677d('0x7b')]=DIRECTION_RIGHT):_0x2e0573['j']>_0x475473?(_0x2e0573[_0x677d('0x7f')]=_0x2e0573[_0x677d('0x7e')]['left'],_0x2e0573[_0x677d('0x7b')]=DIRECTION_LEFT):(_0x2e0573[_0x677d('0x7f')]=_0x2e0573[_0x677d('0x7e')]['up'],_0x2e0573[_0x677d('0x7b')]=DIRECTION_UP),_0x2e0573['i']=_0xc4eae3,_0x2e0573['j']=_0x475473;}function putSnakeAtMap(){if(cur_id=mobs_data[j++],cur_snake=players_list[_0x677d('0x85')](cur_id),color=mobs_data[j++],!cur_snake){cur_snake={};var _0x285931=color-initial_av_index;cur_snake['id']=cur_id,cur_snake['eyes']=colors[_0x285931]?colors[_0x285931][0x1]:colors[0x0][0x1],cur_snake[_0x677d('0x88')]='',cur_snake['i']=0x0,cur_snake['j']=0x0,players_list[_0x677d('0x80')](cur_id,cur_snake);}for(first&&leaderboard['length']<rankingSize&&0x0<cur_snake[_0x677d('0x88')]['length']&&leaderboard[_0x677d('0x56')](cur_id),cur_snake[_0x677d('0x89')]=color,size_most=mobs_data[j++],size_less=mobs_data[j++],cur_snake[_0x677d('0x7d')]=size_most<<0x8|0xff&size_less,cur_i=mobs_data[j++],cur_j=mobs_data[j++],updateSnakeDirection(cur_snake,cur_i,cur_j),snake_size=cur_snake[_0x677d('0x7d')],k=0x1;k<snake_size;k++)server_matrix[mobs_data[j++]][mobs_data[j++]][_0x677d('0x8a')](color);return cur_id==id&&(my_snake=cur_snake),server_matrix[cur_snake['i']][cur_snake['j']][_0x677d('0x8b')](cur_id),cur_snake;}function getServerMobs(){for(snakes_count=mobs_data[0x1],j=0x2,i=0x0,i=0x0;i<snakes_count;i++)putSnakeAtMap();getServerMobsChanges();}function getServerMobsChanges(){var _0x61c62b,_0x159849,_0x28d68e;for(i=j;i<mobs_data[_0x677d('0x0')];i++)if(_0x159849=mobs_data[i],_0x28d68e=mobs_data[++i],_0x61c62b=mobs_data[++i],0xff===_0x61c62b){if(cur_id=mobs_data[++i],cur_snake=players_list['get'](cur_id),server_matrix[_0x159849][_0x28d68e]['setSnake'](cur_id),!cur_snake){cur_snake={};cur_snake['id']=cur_id,cur_snake[_0x677d('0x7e')]=colors[0x0][0x1],cur_snake['name']='',cur_snake['i']=0x0,cur_snake['j']=0x0,cur_snake['color']=initial_av_index,cur_snake[_0x677d('0x7b')]=DIRECTION_UP,players_list[_0x677d('0x80')](cur_id,cur_snak);}else server_matrix[cur_snake['i']][cur_snake['j']][_0x677d('0x8a')](cur_snake[_0x677d('0x89')]);updateSnakeDirection(cur_snake,_0x159849,_0x28d68e),cur_id==id&&(!my_snake['position']&&(my_snake[_0x677d('0x7c')]=players_list[_0x677d('0x7d')]),my_snake[_0x677d('0x88')]=cur_snake[_0x677d('0x88')],my_snake['i']=cur_snake['i'],my_snake['j']=cur_snake['j']);}else server_matrix[_0x159849][_0x28d68e][_0x677d('0x8a')](_0x61c62b);my_snake&&(head_i=my_snake['i'],head_j=my_snake['j'],head_i-center_i<-focus_offset_i?center_i--:head_i-center_i>focus_offset_i&&center_i++,head_j-center_j<-focus_offset_j?center_j--:head_j-center_j>focus_offset_j&&center_j++);}function drawItemAtCanvas(_0x10b83a,_0x407863,_0x24af1e,_0x346419){_0x10b83a['image']?(_0x346419['clearRect'](_0x407863[_0x677d('0x7c')]['x'],_0x407863[_0x677d('0x7c')]['y'],item_size,item_size),_0x346419['drawImage'](_0x10b83a[_0x677d('0x8c')],_0x407863['position']['x'],_0x407863[_0x677d('0x7c')]['y'],item_size,item_size)):(previous=TILES[_0x24af1e],(!previous||previous[_0x677d('0x8d')]||previous['off'])&&(_0x346419[_0x677d('0x5')]=grid_color,_0x346419['fillRect'](_0x407863['position']['x'],_0x407863['position']['y'],item_size,item_size)),_0x346419['fillStyle']=_0x10b83a[_0x677d('0x8c')],_0x10b83a[_0x677d('0x8e')]?_0x346419[_0x677d('0x6')](_0x407863['position']['x'],_0x407863[_0x677d('0x7c')]['y'],item_size,item_size):_0x346419['fillRect'](_0x407863[_0x677d('0x7c')]['x'],_0x407863[_0x677d('0x7c')]['y'],item_size_1,item_size_1));}var stop_game=0x0;function drawMobsAtMap(){for(i_start=center_i-offset_i_left,i_end=center_i+offset_i_right,0x0>i_start?(i_start=0x0,i_end=vertical_items):i_end>=lines&&(i_end=lines,i_start=lines-vertical_items),j_start=center_j-offset_j_left,j_end=center_j+offset_j_right,0x0>j_start?(j_start=0x0,j_end=horizontal_items):j_end>=columns&&(j_end=columns,j_start=columns-horizontal_items),0x1==stop_game,stop_game++,(i=i_start,_i=0x0);i<i_end;i++,_i++)for(j=j_start,_j=0x0;j<j_end;j++,_j++)current_screen=current_matrix_screen[_i][_j],current_server=server_matrix[i][j],current_screen[_0x677d('0x8f')]!=current_server[_0x677d('0x8f')]&&(tile=TILES[current_server[_0x677d('0x8f')]],drawItemAtCanvas(tile,current_screen,current_screen[_0x677d('0x8f')],ctx_below),current_screen[_0x677d('0x8f')]=current_server[_0x677d('0x8f')]),current_server[_0x677d('0x90')]?(snake=players_list[_0x677d('0x85')](current_server[_0x677d('0x90')]),snake&&(current_screen[_0x677d('0x91')]!=current_server['snake']||current_screen['direction']!=snake[_0x677d('0x7b')])&&(tile=TILES[snake[_0x677d('0x89')]],ctx[_0x677d('0xe')](tile[_0x677d('0x8c')],current_screen[_0x677d('0x7c')]['x'],current_screen[_0x677d('0x7c')]['y'],item_size,item_size),ctx['drawImage'](snake[_0x677d('0x7f')],current_screen[_0x677d('0x7c')]['x'],current_screen['position']['y'],item_size,item_size),room_leader&&room_leader['id']===snake['id']&&ctx[_0x677d('0xe')](crown[snake[_0x677d('0x7b')]],current_screen[_0x677d('0x7c')]['x'],current_screen[_0x677d('0x7c')]['y'],item_size,item_size),ctx_above[_0x677d('0x54')](snake[_0x677d('0x81')]-0x2,snake[_0x677d('0x92')]-0x2,snake[_0x677d('0x82')],snake[_0x677d('0x93')]),snake['name_x']=current_screen[_0x677d('0x7c')]['x']+item_size,snake[_0x677d('0x92')]=current_screen[_0x677d('0x7c')]['y']-item_size,ctx_above[_0x677d('0x94')](snake['name'],snake[_0x677d('0x81')],snake[_0x677d('0x92')]),current_screen['mob']=current_server[_0x677d('0x90')],current_screen[_0x677d('0x7b')]=snake[_0x677d('0x7b')])):0x0===current_server[_0x677d('0x90')]?0x0===current_server[_0x677d('0x91')]?0x0===current_server[_0x677d('0x91')]&&0x0===current_server['snake']&&0x0!==current_screen[_0x677d('0x91')]&&(ctx[_0x677d('0x54')](current_screen['position']['x'],current_screen['position']['y'],item_size,item_size),current_screen[_0x677d('0x91')]=0x0):current_server[_0x677d('0x91')]!==current_screen[_0x677d('0x91')]&&(tile=TILES[current_server[_0x677d('0x91')]],drawItemAtCanvas(tile,current_screen,current_screen[_0x677d('0x91')],ctx),current_screen[_0x677d('0x91')]=current_server[_0x677d('0x91')]):current_server['snake']!==current_screen[_0x677d('0x91')]&&(tile=TILES[current_server[_0x677d('0x90')]],drawItemAtCanvas(tile,current_screen,current_screen[_0x677d('0x91')],ctx),current_screen['mob']=current_server[_0x677d('0x90')]);}function drawRoomLeader(){var _0x2215e5=Math[_0x677d('0x95')];room_leader&&my_snake&&room_leader['id']!=my_snake['id']?(_0x2215e5(room_leader['j']-my_snake['j'])>=horizontal_items_half?room_leader['j']>my_snake['j']?(arrow_right[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6b'),arrow_left[_0x677d('0x6a')]['display']='none'):(arrow_right['style'][_0x677d('0x68')]=_0x677d('0x6e'),arrow_left['style']['display']=_0x677d('0x6b')):(arrow_right[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e'),arrow_left[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e')),_0x2215e5(room_leader['i']-my_snake['i'])>=vertical_items_half?room_leader['i']>my_snake['i']?(arrow_bottom['style'][_0x677d('0x68')]=_0x677d('0x6b'),arrow_top[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e')):(arrow_bottom['style'][_0x677d('0x68')]=_0x677d('0x6e'),arrow_top[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6b')):(arrow_bottom[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e'),arrow_top['style'][_0x677d('0x68')]='none')):(arrow_right[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e'),arrow_left[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e'),arrow_bottom[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e'),arrow_top[_0x677d('0x6a')][_0x677d('0x68')]=_0x677d('0x6e'));}function initPlayer(_0x2d5039){measure=ctx_above[_0x677d('0x96')](_0x2d5039['name']),_0x2d5039[_0x677d('0x93')]=0x13,_0x2d5039[_0x677d('0x82')]=measure[_0x677d('0x3')]+0x4,_0x2d5039['name_x']=0x0,_0x2d5039[_0x677d('0x92')]=0x0,_0x2d5039[_0x677d('0x7d')]=0x0;}function initPlayersList(_0xd16b5a){for(var _0x5cbe2d,_0x54d137,_0x4a4a79,_0x406252,_0x1d0d16,_0x25b018=0x1;_0x25b018<_0xd16b5a[_0x677d('0x0')];){for(_0x54d137=_0xd16b5a[_0x25b018],_0x25b018++,_0x406252=_0xd16b5a[_0x25b018],_0x5cbe2d='',j=0x0;j<_0x406252;j++)_0x25b018++,_0x5cbe2d+=String[_0x677d('0x97')](_0xd16b5a[_0x25b018]);_0x25b018++,_0x1d0d16=_0xd16b5a[_0x25b018],_0x4a4a79={'id':_0x54d137,'name':_0x5cbe2d,'i':0x0,'j':0x0,'color':_0x1d0d16,'eyes':colors[_0x1d0d16-initial_av_index][0x1]},initPlayer(_0x4a4a79),players_list[_0x677d('0x80')](_0x54d137,_0x4a4a79),_0x25b018++;}}function drawLeaderboard(){my_snake['score']=my_snake['size'],document['getElementById'](_0x677d('0x98'))[_0x677d('0x63')]=my_snake['score'],snakeRanking[_0x677d('0x63')]=my_snake[_0x677d('0x7c')]+'/'+snakes_count,tBodyElem[_0x677d('0x63')]='';var _0x1d1fd1;for(i=0x0;i<leaderboard[_0x677d('0x0')];i++)if(_0x1d1fd1=players_list[_0x677d('0x85')](leaderboard[i]),_0x1d1fd1){var _0x2460f4=document[_0x677d('0x7')]('tr');_0x2460f4[_0x677d('0x63')]='<td><strong>\x20#'+(i+0x1)+_0x677d('0x99')+_0x1d1fd1[_0x677d('0x88')]+_0x677d('0x9a'),tBodyElem[_0x677d('0x75')](_0x2460f4);}}function drawSpeed(){document[_0x677d('0x17')](_0x677d('0x9b'))[_0x677d('0x63')]=my_snake[_0x677d('0x84')];}function drawGameover(){var _0x4c1ff6=document[_0x677d('0x17')](_0x677d('0x9c'));_0x4c1ff6[_0x677d('0x6a')][_0x677d('0x9d')]='visible',_0x4c1ff6['innerHTML']=_0x677d('0x9e')+my_snake['score']+'\x20('+my_snake[_0x677d('0x7c')]+'/'+snakes_count+')',document[_0x677d('0x17')](_0x677d('0x9f'))[_0x677d('0x6a')][_0x677d('0x9d')]=_0x677d('0xa0'),mustPrepare&&(prepareGame(),mustPrepare=!0x1),drawGrid(!0x0);}function keyPressed(_0x4594e6){if(!connected)0xd==_0x4594e6['keyCode']&&document[_0x677d('0x17')]('connect')['click']();else switch(_0x4594e6[_0x677d('0xa1')]){case KEY_UP:case KEY_UP_1:socket[_0x677d('0xa2')](_0x677d('0xa3'));break;case KEY_DOWN:case KEY_DOWN_1:socket['send'](_0x677d('0xa4'));break;case KEY_LEFT:case KEY_LEFT_1:socket[_0x677d('0xa2')](_0x677d('0xa5'));break;case KEY_RIGHT:case KEY_RIGHT_1:socket['send'](_0x677d('0xa6'));}}function virtualKeyPressed(){socket[_0x677d('0xa2')]('1,'+this[_0x677d('0xa7')](_0x677d('0xa8')));}function setCookie(_0x1ef92c,_0x274333,_0x141784){var _0x49fe2d='';if(_0x141784){var _0x11ab07=new Date();_0x11ab07[_0x677d('0xa9')](_0x11ab07['getTime']()+0x3e8*(0x3c*(0x3c*(0x18*_0x141784)))),_0x49fe2d=_0x677d('0xaa')+_0x11ab07[_0x677d('0xab')]();}document[_0x677d('0xac')]=_0x1ef92c+'='+(_0x274333||'')+_0x49fe2d+_0x677d('0xad');}function getCookie(_0x369092){for(var _0x552346,_0x5eebd9=_0x369092+'=',_0x290914=document[_0x677d('0xac')][_0x677d('0x57')](';'),_0x213fe9=0x0;_0x213fe9<_0x290914['length'];_0x213fe9++){for(_0x552346=_0x290914[_0x213fe9];'\x20'==_0x552346[_0x677d('0xae')](0x0);)_0x552346=_0x552346[_0x677d('0xaf')](0x1,_0x552346[_0x677d('0x0')]);if(0x0==_0x552346[_0x677d('0xb0')](_0x5eebd9))return _0x552346[_0x677d('0xaf')](_0x5eebd9[_0x677d('0x0')],_0x552346[_0x677d('0x0')]);}return null;}function eraseCookie(_0x3ff0a2){document[_0x677d('0xac')]=_0x3ff0a2+_0x677d('0xb1');}function findGetParameter(_0x1e6438){for(var _0x349d26=[],_0x19e530=location['search'][_0x677d('0xb2')](0x1)['split']('&'),_0xafd077=0x0;_0xafd077<_0x19e530[_0x677d('0x0')];_0xafd077++)if(_0x349d26=_0x19e530[_0xafd077][_0x677d('0x57')]('='),_0x349d26[0x0]===_0x1e6438)return decodeURIComponent(_0x349d26[0x1]);return'';}function initTiles(){var _0x360753,_0x49a3b0,_0x5b792a,_0x207699;for(i=0x0;i<TILES[_0x677d('0x0')];i++)if('#'!=TILES[i]['i']['charAt'](0x0)){TILES[i][_0x677d('0x8d')]=!0x0,_0x360753=createCanvas(item_size,item_size),_0x49a3b0=_0x360753['getContext']('2d');var _0x317f23=item_size_1/0x8,_0x5afe23=0x2*_0x317f23,_0x5d4739=0x3*_0x317f23,_0x5413da=0x5*_0x317f23,_0x43e9e5=0x6*_0x317f23,_0x1edb52=0x7*_0x317f23,_0x20f354=item_size_1/0xa,_0x20d847=0x2*_0x20f354,_0x2ea977=0x3*_0x20f354,_0x579f0f=0x4*_0x20f354,_0x8bfe7=0x5*_0x20f354,_0x59d7f1=0x6*_0x20f354,_0x19f3d9=0x7*_0x20f354,_0x1dc17b=0x8*_0x20f354,_0x266c3a=parseInt(_0x20f354+_0x20f354/0x2);switch(TILES[i]['i']){case'CHICKEN':var _0x30d495=item_size_1/0xa,_0x2660fe=0x8*_0x30d495,_0x5e9e75=0x2*_0x30d495;_0x49a3b0[_0x677d('0x5')]=_0x677d('0xb3'),y=_0x30d495,_0x49a3b0[_0x677d('0x6')](_0x30d495,y,_0x2660fe,_0x30d495),_0x49a3b0['fillStyle']='#FFFFFF',y+=_0x30d495,_0x49a3b0[_0x677d('0x6')](_0x30d495,y,_0x2660fe,_0x5e9e75),_0x49a3b0[_0x677d('0x5')]=_0x677d('0x2d'),_0x49a3b0[_0x677d('0x6')](_0x30d495,y,_0x5e9e75,_0x5e9e75),_0x49a3b0['fillRect'](0x3*_0x5e9e75+_0x30d495,y,_0x5e9e75,_0x5e9e75),_0x49a3b0[_0x677d('0x5')]='#c19343',y+=_0x5e9e75,_0x49a3b0[_0x677d('0x6')](_0x30d495,y,_0x2660fe,_0x5e9e75),_0x49a3b0['fillStyle']=_0x677d('0xb4'),y+=_0x5e9e75,_0x49a3b0['fillRect'](_0x30d495,y,_0x2660fe,_0x5e9e75),_0x49a3b0[_0x677d('0x5')]=_0x677d('0x30'),y+=_0x5e9e75,_0x49a3b0[_0x677d('0x6')](_0x30d495,y,_0x2660fe,_0x30d495),_0x49a3b0['fillStyle']='#FF0000',_0x49a3b0['fillRect'](_0x5e9e75+_0x5e9e75,y,_0x5e9e75+_0x30d495,_0x5e9e75);break;case _0x677d('0x26'):_0x49a3b0[_0x677d('0x5')]=_0x677d('0xb5'),_0x49a3b0[_0x677d('0x6')](_0x20f354,_0x266c3a,_0x1dc17b,_0x19f3d9),_0x49a3b0[_0x677d('0x5')]=_0x677d('0xb6'),_0x49a3b0[_0x677d('0x6')](_0x20d847,_0x266c3a,_0x20f354,_0x20d847),_0x49a3b0[_0x677d('0x5')]=_0x677d('0x2d'),_0x49a3b0['fillRect'](_0x20f354,_0x579f0f,_0x20d847,_0x20d847),_0x49a3b0['fillRect'](_0x19f3d9,_0x579f0f,_0x20d847,_0x20d847),_0x49a3b0[_0x677d('0x5')]='#FFFFFF',_0x49a3b0[_0x677d('0x6')](_0x2ea977,_0x579f0f,_0x20f354,_0x20d847),_0x49a3b0['fillRect'](_0x59d7f1,_0x579f0f,_0x20f354,_0x20d847),_0x49a3b0[_0x677d('0x5')]=_0x677d('0xb7'),_0x49a3b0[_0x677d('0x6')](_0x579f0f,_0x19f3d9,_0x20f354,_0x20f354),_0x49a3b0[_0x677d('0x6')](_0x59d7f1,_0x19f3d9,_0x20f354,_0x20f354);break;case _0x677d('0x27'):_0x49a3b0[_0x677d('0x5')]=_0x677d('0xb8'),_0x49a3b0['fillRect'](_0x20f354,_0x266c3a,_0x1dc17b,_0x19f3d9),_0x49a3b0[_0x677d('0x5')]=_0x677d('0xb9'),_0x49a3b0[_0x677d('0x6')](_0x579f0f,_0x266c3a,_0x20d847,_0x20d847),_0x49a3b0[_0x677d('0x6')](_0x579f0f,_0x266c3a,_0x2ea977,_0x20f354),_0x49a3b0[_0x677d('0x6')](_0x579f0f,_0x266c3a,_0x20f354,_0x2ea977),_0x49a3b0[_0x677d('0x5')]=_0x677d('0x30'),_0x49a3b0[_0x677d('0x6')](_0x20f354,_0x579f0f,_0x20d847,_0x20d847),_0x49a3b0[_0x677d('0x6')](_0x19f3d9,_0x579f0f,_0x20d847,_0x20d847),_0x49a3b0[_0x677d('0x5')]=_0x677d('0x2d'),_0x49a3b0[_0x677d('0x6')](_0x20f354,_0x8bfe7,_0x20f354,_0x20f354),_0x49a3b0['fillRect'](_0x1dc17b,_0x8bfe7,_0x20f354,_0x20f354),_0x49a3b0[_0x677d('0x5')]=_0x677d('0x30'),_0x49a3b0[_0x677d('0x6')](_0x579f0f,_0x59d7f1,_0x20d847,_0x20f354),_0x49a3b0[_0x677d('0x6')](_0x20d847,_0x19f3d9,_0x8bfe7+_0x20f354/0x2,_0x20d847),_0x49a3b0[_0x677d('0x5')]=_0x677d('0x2d'),_0x49a3b0[_0x677d('0x6')](_0x2ea977,_0x19f3d9,_0x20f354,_0x20f354),_0x49a3b0[_0x677d('0x6')](_0x59d7f1,_0x19f3d9,_0x20f354,_0x20f354),_0x49a3b0[_0x677d('0x5')]=_0x677d('0xba'),_0x49a3b0[_0x677d('0x6')](_0x2ea977,_0x1dc17b,_0x579f0f,_0x20f354);break;case _0x677d('0x28'):_0x49a3b0[_0x677d('0x5')]=_0x677d('0x30'),_0x49a3b0[_0x677d('0x6')](_0x20f354,_0x266c3a,_0x1dc17b,_0x19f3d9),_0x49a3b0[_0x677d('0x5')]=_0x677d('0xbb'),_0x49a3b0[_0x677d('0x6')](_0x20d847,_0x20d847,_0x59d7f1,_0x579f0f),_0x49a3b0[_0x677d('0x6')](_0x2ea977,_0x59d7f1-0x1,_0x579f0f,_0x20d847+0x2),_0x49a3b0[_0x677d('0x5')]=_0x677d('0x2d'),_0x49a3b0[_0x677d('0x6')](_0x20d847,_0x579f0f,_0x20d847,_0x20d847),_0x49a3b0[_0x677d('0x6')](_0x19f3d9,_0x579f0f,_0x20f354,_0x20d847),_0x49a3b0['fillStyle']=_0x677d('0x30'),_0x49a3b0[_0x677d('0x6')](_0x2ea977,_0x579f0f,_0x20f354,_0x20d847),_0x49a3b0[_0x677d('0x6')](_0x59d7f1,_0x579f0f,_0x20f354,_0x20d847),_0x49a3b0['fillStyle']=_0x677d('0xbc'),_0x49a3b0['fillRect'](_0x579f0f,_0x19f3d9,_0x20d847,_0x20f354);break;case _0x677d('0xbd'):_0x49a3b0[_0x677d('0x5')]='#616161',_0x49a3b0['fillRect'](_0x5afe23,_0x317f23,_0x5afe23,_0x1edb52),_0x49a3b0['fillRect'](_0x5413da,_0x317f23,_0x5afe23,_0x1edb52),_0x49a3b0[_0x677d('0x6')](_0x317f23,_0x43e9e5,_0x5d4739,_0x5afe23),_0x49a3b0[_0x677d('0x6')](_0x5413da,_0x43e9e5,_0x5d4739,_0x5afe23);break;case _0x677d('0x29'):_0x5b792a=i,drawCircle(_0x49a3b0,_0x317f23,'#9e9e00',_0x677d('0xbe'),_0x677d('0xbf'),!0x0);break;case _0x677d('0xc0'):_0x207699=i,drawCircle(_0x49a3b0,_0x317f23,'#126e00',_0x677d('0xc1'),_0x677d('0xc2'),!0x0);break;case _0x677d('0x2a'):x=0.1*item_size_1,y=0.1*item_size_1,w=0.8*item_size_1,h=0.8*item_size_1,_0x49a3b0['drawImage'](TILES[_0x5b792a][_0x677d('0x8c')],x,y,w,h),_0x49a3b0[_0x677d('0x5')]=TILES[0x0]['i'],_0x49a3b0['fillRect'](0x0,h,item_size_1,_0x317f23),_0x49a3b0[_0x677d('0x6')](w,0x0,_0x317f23,item_size_1);break;case _0x677d('0x2b'):x=0.1*item_size_1,y=0.1*item_size_1,w=0.8*item_size_1,h=0.8*item_size_1,_0x49a3b0[_0x677d('0xe')](TILES[_0x207699][_0x677d('0x8c')],x,y,w,h),_0x49a3b0[_0x677d('0x5')]=TILES[0x0]['i'],_0x49a3b0['fillRect'](0x0,h,item_size_1,_0x317f23),_0x49a3b0[_0x677d('0x6')](w,0x0,_0x317f23,item_size_1);}TILES[i][_0x677d('0x8c')]=_0x360753;}else TILES[i][_0x677d('0x8c')]=TILES[i]['i'],TILES[i][_0x677d('0x8d')]=!0x1;var _0x1e9d9d=item_size_1/0x5;heads={'#000000':createHead(_0x677d('0x2d'),_0x1e9d9d),'#FFFFFF':createHead(_0x677d('0x30'),_0x1e9d9d),'#b50c0f':createHead('#b50c0f',_0x1e9d9d)};}function createHead(_0x5b414d,_0x3a9f71){var _0x5a13b3=0x3*_0x3a9f71,_0x5f0a38={},_0x28f549=document[_0x677d('0x7')]('canvas');_0x28f549[_0x677d('0x2')]=item_size,_0x28f549[_0x677d('0x3')]=item_size;var _0x1b1283=_0x28f549[_0x677d('0x4')]('2d');return _0x1b1283['fillStyle']=_0x5b414d,_0x1b1283[_0x677d('0x6')](_0x3a9f71,_0x3a9f71,_0x3a9f71,_0x3a9f71),_0x1b1283[_0x677d('0x6')](_0x5a13b3,_0x3a9f71,_0x3a9f71,_0x3a9f71),_0x5f0a38['up']=_0x28f549,_0x28f549=document[_0x677d('0x7')](_0x677d('0x1')),_0x28f549[_0x677d('0x2')]=item_size,_0x28f549[_0x677d('0x3')]=item_size,_0x1b1283=_0x28f549['getContext']('2d'),_0x1b1283[_0x677d('0x5')]=_0x5b414d,_0x1b1283[_0x677d('0x6')](_0x3a9f71,_0x5a13b3,_0x3a9f71,_0x3a9f71),_0x1b1283[_0x677d('0x6')](_0x5a13b3,_0x5a13b3,_0x3a9f71,_0x3a9f71),_0x5f0a38[_0x677d('0x87')]=_0x28f549,_0x28f549=document['createElement'](_0x677d('0x1')),_0x28f549[_0x677d('0x2')]=item_size,_0x28f549['width']=item_size,_0x1b1283=_0x28f549['getContext']('2d'),_0x1b1283[_0x677d('0x5')]=_0x5b414d,_0x1b1283[_0x677d('0x6')](_0x3a9f71,_0x3a9f71,_0x3a9f71,_0x3a9f71),_0x1b1283['fillRect'](_0x3a9f71,_0x5a13b3,_0x3a9f71,_0x3a9f71),_0x5f0a38[_0x677d('0xc3')]=_0x28f549,_0x28f549=document[_0x677d('0x7')](_0x677d('0x1')),_0x28f549[_0x677d('0x2')]=item_size,_0x28f549[_0x677d('0x3')]=item_size,_0x1b1283=_0x28f549[_0x677d('0x4')]('2d'),_0x1b1283[_0x677d('0x5')]=_0x5b414d,_0x1b1283['fillRect'](_0x5a13b3,_0x3a9f71,_0x3a9f71,_0x3a9f71),_0x1b1283[_0x677d('0x6')](_0x5a13b3,_0x5a13b3,_0x3a9f71,_0x3a9f71),_0x5f0a38['right']=_0x28f549,_0x5f0a38;}function drawCircle(_0x57d76b,_0xad36a2,_0x27df97,_0x37bf25,_0xc2058c,_0x36d927,_0x1aa3b9){_0x1aa3b9===void 0x0&&(_0x1aa3b9=0x0);var _0x5df624=0x2*_0xad36a2,_0x53cda5=0x3*_0xad36a2,_0x1333f0=0x4*_0xad36a2,_0x3eb51c=0x5*_0xad36a2,_0x1964ad=0x6*_0xad36a2,_0x435fd7=_0xad36a2/0x2;_0xad36a2+=_0x1aa3b9,_0x57d76b[_0x677d('0x5')]=_0x27df97,_0x57d76b[_0x677d('0x6')](_0xad36a2,_0xad36a2,_0x1964ad,_0x1964ad),_0x57d76b['fillStyle']=_0x37bf25,_0x57d76b[_0x677d('0x6')](_0x5df624,_0x5df624,_0x1333f0,_0x1333f0),_0x57d76b[_0x677d('0x5')]=_0xc2058c,_0x57d76b[_0x677d('0x6')](_0x53cda5,_0x53cda5,_0x5df624,_0x5df624),_0x36d927&&(_0x57d76b[_0x677d('0x5')]=TILES[0x0]['i'],_0x57d76b[_0x677d('0x6')](0x0,0x0,_0x5df624+_0x435fd7,_0xad36a2+_0x435fd7),_0x57d76b[_0x677d('0x6')](0x0,0x0,_0x5df624,_0x5df624),_0x57d76b[_0x677d('0x6')](0x0,0x0,_0xad36a2+_0x435fd7,_0x5df624+_0x435fd7),_0x57d76b[_0x677d('0x6')](_0x1964ad+_0x435fd7,0x0,_0xad36a2+_0x435fd7,_0x5df624+_0x435fd7),_0x57d76b['fillRect'](_0x1964ad,0x0,_0x5df624,_0x5df624),_0x57d76b[_0x677d('0x6')](_0x3eb51c+_0x435fd7,0x0,_0x5df624+_0x435fd7,_0xad36a2+_0x435fd7),_0x57d76b[_0x677d('0x6')](0x0,_0x3eb51c+_0x435fd7,_0xad36a2+_0x435fd7,_0x5df624+_0x435fd7),_0x57d76b[_0x677d('0x6')](0x0,_0x1964ad,_0x5df624,_0x5df624),_0x57d76b[_0x677d('0x6')](0x0,_0x1964ad+_0x435fd7,_0x5df624+_0x435fd7,_0xad36a2+_0x435fd7),_0x57d76b[_0x677d('0x6')](_0x1964ad+_0x435fd7,_0x3eb51c+_0x435fd7,_0xad36a2+_0x435fd7,_0x5df624+_0x435fd7),_0x57d76b[_0x677d('0x6')](_0x1964ad,_0x1964ad,_0x5df624,_0x5df624),_0x57d76b[_0x677d('0x6')](_0x3eb51c+_0x435fd7,_0x1964ad+_0x435fd7,_0x5df624+_0x435fd7,_0xad36a2+_0x435fd7));}function prepareGame(){smallScreen=window['innerWidth']<SMALL_SCREEN,rankingSize=smallScreen?0x4:RANKING_SIZE;var _0x29117a=document['getElementById']('canvas_below'),_0x253905=document[_0x677d('0x17')]('canvas'),_0x331651=document[_0x677d('0x17')](_0x677d('0xc4'));if(width=_0x253905[_0x677d('0x3')]=_0x331651[_0x677d('0x3')]=_0x29117a[_0x677d('0x3')]=window['innerWidth'],height=_0x253905[_0x677d('0x2')]=_0x331651[_0x677d('0x2')]=_0x29117a[_0x677d('0x2')]=window[_0x677d('0xc5')],horizontal_items=DESIRED_HORIZONTAL_ITEMS,item_size=parseInt(width/(horizontal_items-0x3)),0x1a>item_size){for(;0x0!=item_size%0x8;)item_size++;horizontal_items=parseInt(width/ item_size)+0x1+0x2;}item_size_1=item_size-0x2,vertical_items=parseInt(height/ item_size)+0x1+0x2,vertical_items_half=parseInt(vertical_items/0x2),horizontal_items_half=parseInt(horizontal_items/0x2),offset_i_left=parseInt(vertical_items/0x2),offset_j_left=parseInt(horizontal_items/0x2),offset_i_right=vertical_items-offset_i_left,offset_j_right=horizontal_items-offset_j_left,focus_offset_i=parseInt(vertical_items*FOCUS_OFFSET_PERCENTAGE),focus_offset_j=parseInt(horizontal_items*FOCUS_OFFSET_PERCENTAGE),ctx_below=_0x29117a[_0x677d('0x4')]('2d'),ctx_below[_0x677d('0x5')]=grid_color,ctx_below[_0x677d('0x6')](0x0,0x0,width,height),ctx=_0x253905[_0x677d('0x4')]('2d'),ctx_above=_0x331651['getContext']('2d'),ctx_above['textAlign']=_0x677d('0xc3'),ctx_above['textBaseline']=_0x677d('0xc6'),ctx_above[_0x677d('0xc7')]=_0x677d('0xc8'),ctx_above['fillStyle']=_0x677d('0x30'),crown[DIRECTION_DOWN]=createCrown(item_size,item_size,DIRECTION_DOWN),crown[DIRECTION_UP]=createCrown(item_size,item_size,DIRECTION_UP),crown[DIRECTION_RIGHT]=createCrown(item_size,item_size,DIRECTION_RIGHT),crown[DIRECTION_LEFT]=createCrown(item_size,item_size,DIRECTION_LEFT),initTilesArray(),drawGrid(!0x1),initTiles(),avatar_canvas=document['getElementById'](_0x677d('0xc9')),avatar_canvas&&initAvatarChooser();var _0x2997ea=document[_0x677d('0x17')](_0x677d('0x6d'));if(_0x677d('0x78')==navigator['userAgent']||'1'===findGetParameter('n')){var _0x2722bc=document[_0x677d('0x17')](_0x677d('0x72'));_0x2722bc&&_0x2722bc['remove'](),_0x677d('0x78')==navigator[_0x677d('0x73')]&&document['getElementById']('social-buttons')[_0x677d('0xca')]();}else{var _0x3014fe=parseInt(window['getComputedStyle'](_0x2997ea)[_0x677d('0xc6')][_0x677d('0xcb')]('px','')),_0xfc0651=document['getElementById'](_0x677d('0x72'));_0xfc0651&&(_0xfc0651[_0x677d('0x6a')]['top']=_0x2997ea[_0x677d('0xcc')]+_0x3014fe+'px',(adsbygoogle=window[_0x677d('0xcd')]||[])[_0x677d('0x56')]({}));}var _0x476e87=document[_0x677d('0xce')]('.navbar-header');if(_0x476e87){var _0x301b8c,_0x1063cb=(smallScreen?0x3:0x5)*item_size;_0x301b8c=_0x2997ea['offsetTop']<_0x1063cb?(_0x2997ea['offsetTop']-_0x476e87[_0x677d('0xcc')])/0x2+'px':(_0x1063cb-_0x476e87[_0x677d('0xcc')])/0x2+'px',_0x476e87[_0x677d('0x6a')][_0x677d('0xcf')]=_0x301b8c;}}window[_0x677d('0x15')](_0x677d('0xd0'),function(_0x5db4e5){connected?mustPrepare=!0x0:prepareGame(_0x5db4e5);}),document['addEventListener'](_0x677d('0xd1'),function(){arrow_top=document[_0x677d('0x17')](_0x677d('0xd2')),arrow_right=document[_0x677d('0x17')](_0x677d('0xd3')),arrow_bottom=document['getElementById']('arrow-bottom'),arrow_left=document[_0x677d('0x17')](_0x677d('0xd4'));var _0x38303d=parseInt(0.15*window[_0x677d('0xd5')]);0x46<_0x38303d?_0x38303d=_0x677d('0xd6'):_0x38303d+='px',arrow_top[_0x677d('0x6a')][_0x677d('0x3')]=_0x38303d,arrow_right[_0x677d('0x6a')]['height']=_0x38303d,arrow_bottom[_0x677d('0x6a')]['width']=_0x38303d,arrow_left[_0x677d('0x6a')][_0x677d('0x2')]=_0x38303d,initSounds();var _0x5584bb=document[_0x677d('0x17')](_0x677d('0x5f'));_0x5584bb&&(document[_0x677d('0x17')](_0x677d('0x5f'))[_0x677d('0xd7')]=getCookie('nickname'));var _0x122d88=document['getElementById'](_0x677d('0xd8'));if(_0x122d88){if(_0x677d('0xd9')===findGetParameter(_0x677d('0xda'))){var _0x3f1326=document[_0x677d('0x7')]('option');_0x3f1326['value']=_0x677d('0xdb'),_0x3f1326[_0x677d('0xdc')]=_0x3f1326['value'],_0x122d88[_0x677d('0x75')](_0x3f1326),_0x3f1326=document['createElement']('option'),_0x3f1326[_0x677d('0xd7')]=_0x677d('0xdd'),_0x3f1326[_0x677d('0xdc')]='[DEV]\x20Long\x20Flower\x20EU',_0x122d88['appendChild'](_0x3f1326),_0x3f1326=document[_0x677d('0x7')](_0x677d('0xde')),_0x3f1326[_0x677d('0xd7')]='cool-leaf-us.herokuapp.com',_0x3f1326[_0x677d('0xdc')]=_0x677d('0xdf'),_0x122d88[_0x677d('0x75')](_0x3f1326),_0x3f1326=document[_0x677d('0x7')](_0x677d('0xde')),_0x3f1326[_0x677d('0xd7')]=_0x677d('0xe0'),_0x3f1326['text']='Fast\x20Island',_0x122d88[_0x677d('0x75')](_0x3f1326);}var _0x47762b=getCookie('server');if(_0x47762b)for(var _0x2d8a7c,_0x15214b=_0x122d88[_0x677d('0xe1')],_0x2445e8=0x0;_0x2d8a7c=_0x15214b[_0x2445e8];_0x2445e8++)if(_0x2d8a7c[_0x677d('0xd7')]==_0x47762b){_0x122d88[_0x677d('0xe2')]=_0x2445e8;break;}}var _0x1520d1=document[_0x677d('0x17')]('connect');if(_0x1520d1){window[_0x677d('0x15')]('keydown',keyPressed,!0x1),_0x1520d1[_0x677d('0xe3')]=function(_0x1f05ed){if(_0x1f05ed[_0x677d('0xe4')][_0x677d('0x5c')]=!0x0,_0x1f05ed['target'][_0x677d('0x6a')][_0x677d('0x5d')]='wait',!connected){resetCurrentMatrix();var _0x5584bb=document[_0x677d('0x17')](_0x677d('0xd8'))[_0x677d('0xd7')];console[_0x677d('0xe5')](_0x5584bb);var _0x122d88=document[_0x677d('0x17')](_0x677d('0x5f'))[_0x677d('0xd7')];setCookie('nickname',_0x122d88,0x12c),setCookie(_0x677d('0xd8'),_0x5584bb,0x12c),connect(_0x5584bb);}};for(var _0xb3911=document[_0x677d('0xe6')](_0x677d('0xe7')),_0x439e30=0x0;_0x439e30<_0xb3911[_0x677d('0x0')];_0x439e30++)_0xb3911[_0x439e30][_0x677d('0x15')](_0x677d('0x16'),virtualKeyPressed);}prepareGame();}),function(){'use strict';if(navigator[_0x677d('0x73')][_0x677d('0xe8')](/IEMobile\/10\.0/)){var _0x58634b=document['createElement'](_0x677d('0x6a'));_0x58634b[_0x677d('0x75')](document[_0x677d('0xe9')](_0x677d('0xea'))),document[_0x677d('0xce')](_0x677d('0x7f'))[_0x677d('0x75')](_0x58634b);}}();var ITEM_MAP_EMPTY=-0x1,ITEM_EMPTY=0x0;function Position(_0x6d0336,_0x371289){this['x']=_0x6d0336,this['y']=_0x371289;}function Pixel(_0x4dc6a7,_0x1b39eb,_0x4fe001){this[_0x677d('0x7c')]=new Position(0x0,0x0),this[_0x677d('0x8c')]=_0x4fe001;}function MapPixel(_0x819e86){this[_0x677d('0x90')]=ITEM_EMPTY,this[_0x677d('0x91')]=ITEM_EMPTY,this[_0x677d('0x8f')]=_0x819e86;}MapPixel[_0x677d('0xeb')]['setSnake']=function(_0x2c1c19){this[_0x677d('0x90')]=_0x2c1c19,this[_0x677d('0x91')]=ITEM_EMPTY;},MapPixel[_0x677d('0xeb')][_0x677d('0x8a')]=function(_0xdda5e4){this[_0x677d('0x90')]=ITEM_EMPTY,this['mob']=_0xdda5e4;};function ScreenPixel(_0x1fa91b,_0x3291ef){this[_0x677d('0x7c')]=new Position(_0x1fa91b,_0x3291ef),this[_0x677d('0xec')]=!0x0,this['direction']=ITEM_MAP_EMPTY,this['map']=ITEM_MAP_EMPTY,this[_0x677d('0x91')]=ITEM_EMPTY;}function findGetParameter(_0x5c1ca5){var _0x3a44e0=null,_0x1097d8=[];return location[_0x677d('0xed')][_0x677d('0xb2')](0x1)[_0x677d('0x57')]('&')[_0x677d('0xee')](function(_0x129614){_0x1097d8=_0x129614[_0x677d('0x57')]('='),_0x1097d8[0x0]===_0x5c1ca5&&(_0x3a44e0=decodeURIComponent(_0x1097d8[0x1]));}),_0x3a44e0;}function getServerList(_0x2efbb0){let _0x1350b3=findGetParameter(_0x677d('0xd8'));if(void 0x0!==_0x1350b3){var _0x361b1a=document['createElement'](_0x677d('0xde'));return _0x361b1a['innerHTML']=_0x1350b3,_0x361b1a['setAttribute'](_0x677d('0xd7'),_0x1350b3),_0x361b1a[_0x677d('0xef')]('id',_0x1350b3),void _0x2efbb0['appendChild'](_0x361b1a);}var _0x4570a2=new XMLHttpRequest();_0x4570a2['onreadystatechange']=function(){var _0x1350b3=[];if(0x4==this[_0x677d('0xf0')]&&0xc8==this[_0x677d('0xf1')]){for(var _0x361b1a=JSON[_0x677d('0xf2')](this[_0x677d('0xf3')]),_0x4570a2=null,_0x140fd6=0x0;_0x140fd6<_0x361b1a[_0x677d('0x0')];_0x140fd6++)if(_0x4570a2=_0x361b1a[_0x140fd6],_0x4570a2&&_0x4570a2[_0x677d('0xf4')]&&_0x4570a2['url']){_0x1350b3['push'](_0x4570a2);var _0x1f86d9=document[_0x677d('0x7')]('option');_0x1f86d9['innerHTML']=_0x4570a2[_0x677d('0xf4')],_0x1f86d9[_0x677d('0xef')](_0x677d('0xd7'),_0x4570a2[_0x677d('0xf5')]),_0x1f86d9[_0x677d('0xef')]('id',_0x4570a2[_0x677d('0xf5')]),_0x2efbb0['appendChild'](_0x1f86d9);}_0x4570a2=null,_0x361b1a=null,getPlayersCount(_0x1350b3);}},_0x4570a2[_0x677d('0xf6')]=function(){console[_0x677d('0xe5')](_0x677d('0xf7'));},_0x4570a2[_0x677d('0x5a')](_0x677d('0xf8'),_0x677d('0xf9'),!0x0),_0x4570a2[_0x677d('0xa2')]();}function getPlayersCount(_0x5d6793){for(var _0x448ae6=0x0;_0x448ae6<_0x5d6793[_0x677d('0x0')];_0x448ae6++){var _0x189675=_0x5d6793[_0x448ae6],_0x917829=new WebSocket('ws://'+_0x189675[_0x677d('0xf5')]);_0x917829['binaryType']=_0x677d('0xfa'),_0x917829[_0x677d('0xfb')]=function(_0x30559a){if(_0x30559a['data']instanceof ArrayBuffer){var _0x448ae6=new Uint8Array(_0x30559a[_0x677d('0x7a')]);if(_0x448ae6&&0x2==_0x448ae6[_0x677d('0x0')]&&0x9==_0x448ae6[0x0]&&_0x448ae6[0x1]){var _0x189675=_0x448ae6[0x1],_0x917829=_0x30559a[_0x677d('0xfc')][_0x677d('0xf5')][_0x677d('0xaf')](0x5,_0x30559a[_0x677d('0xfc')][_0x677d('0xf5')]['length']-0x1),_0x58b7ba=document[_0x677d('0x17')](_0x917829);_0x58b7ba[_0x677d('0x63')]=_0x58b7ba[_0x677d('0x63')]+_0x677d('0xfd')+_0x189675+_0x677d('0xfe');}}_0x30559a['srcElement']['close']();};}}var walking_sound,MOBS_VOLUME=0x1,AMBIENCE_VOLUME=0.7;Array[_0x677d('0xeb')]['choice']=function(){return this[Math[_0x677d('0x19')](Math[_0x677d('0x60')]()*this[_0x677d('0x0')])];};function initSounds(){walking_sound=new Audio(_0x677d('0xff'));var _0x56f242=[new Audio('snd/xp.ogg')];_0x56f242[0x0][_0x677d('0x100')]=MOBS_VOLUME;var _0x299f16=new Audio(_0x677d('0x101'));_0x299f16[_0x677d('0x100')]=MOBS_VOLUME;var _0x44c75d=new Audio('snd/chickenhurt.ogg');_0x44c75d[_0x677d('0x100')]=MOBS_VOLUME;var _0x466599=new Audio(_0x677d('0x102'));_0x466599[_0x677d('0x100')]=MOBS_VOLUME;var _0x35a4f5=new Audio(_0x677d('0x103'));_0x35a4f5[_0x677d('0x100')]=0.8*MOBS_VOLUME;var _0x3b229c=new Audio(_0x677d('0x104'));_0x3b229c[_0x677d('0x100')]=MOBS_VOLUME;var _0x954fd1=new Audio('snd/cowhurt.ogg');_0x954fd1[_0x677d('0x100')]=0.4*MOBS_VOLUME;var _0x2dcc62=new Audio(_0x677d('0x105'));_0x2dcc62[_0x677d('0x100')]=0x1;var _0x36d52d=new Audio(_0x677d('0x106')),_0x55b144=new Audio(_0x677d('0x107'));sounds={16:[_0x44c75d,_0x466599],17:[_0x35a4f5,_0x3b229c],18:[_0x954fd1,_0x2dcc62],19:[_0x36d52d,_0x55b144],20:_0x56f242,21:_0x56f242,22:_0x56f242,23:_0x56f242,24:[_0x299f16]},walking_sound[_0x677d('0x100')]=AMBIENCE_VOLUME,walking_sound[_0x677d('0x108')]=!0x0;}function startSound(){walking_sound['play']();}function stopSound(){var _0x3bda3e=new Audio(_0x677d('0x109'));_0x3bda3e[_0x677d('0x100')]=MOBS_VOLUME;var _0x5be855=new Audio(_0x677d('0x10a'));_0x5be855[_0x677d('0x100')]=MOBS_VOLUME,[_0x3bda3e,_0x5be855]['choice']()['play'](),walking_sound[_0x677d('0x10b')]();}function playSound(_0x2bbc5f){_0x2bbc5f&&(sound=sounds[_0x2bbc5f],sound&&sound[_0x677d('0x10c')]()[_0x677d('0x10d')]());}function createCanvas(_0x32eae4,_0x3640cd,_0x5cc198){var _0x49b81a=document[_0x677d('0x7')](_0x677d('0x1'));if(_0x49b81a[_0x677d('0x3')]=_0x32eae4,_0x49b81a[_0x677d('0x2')]=_0x3640cd,void 0x0!==_0x5cc198){var _0xd63aea=_0x49b81a[_0x677d('0x4')]('2d');_0xd63aea['drawImage'](_0x5cc198,0x0,0x0,_0x32eae4,_0x3640cd);}return _0x49b81a;}function createCrown(_0x291299,_0x3fe362,_0x1c14a9){var _0x574079=createCanvas(item_size,item_size),_0xec7c62=_0x574079[_0x677d('0x4')]('2d'),_0x301325=item_size_1/0x8,_0x3dcc6e=item_size_1/0x3,_0x46063d=_0x301325/0x2;switch(_0xec7c62['fillStyle']='#DDC436',_0x1c14a9){case DIRECTION_DOWN:_0xec7c62[_0x677d('0x6')](0x0,0x0,item_size_1,_0x3dcc6e),_0xec7c62[_0x677d('0x5')]='#CAB43A';for(var _0x4a5daf=0x0;0x4>_0x4a5daf;_0x4a5daf++)_0xec7c62['fillRect'](_0x46063d+0x2*_0x4a5daf*_0x301325,_0x3dcc6e,_0x301325,_0x301325);_0xec7c62[_0x677d('0x5')]='#DDC436',_0xec7c62[_0x677d('0x6')](_0x46063d+0x3*_0x301325,_0x3dcc6e,_0x301325,0x2*_0x301325);break;case DIRECTION_UP:_0xec7c62[_0x677d('0x6')](0x0,_0x3fe362-_0x3dcc6e,item_size_1,_0x3dcc6e),_0xec7c62[_0x677d('0x5')]='#CAB43A';for(var _0x4a5daf=0x0;0x4>_0x4a5daf;_0x4a5daf++)_0xec7c62[_0x677d('0x6')](_0x46063d+0x2*_0x4a5daf*_0x301325,_0x3fe362-_0x3dcc6e-_0x301325,_0x301325,_0x301325);_0xec7c62['fillStyle']=_0x677d('0x10e'),_0xec7c62[_0x677d('0x6')](_0x46063d+0x3*_0x301325,_0x3fe362-_0x3dcc6e-0x2*_0x301325,_0x301325,0x2*_0x301325);break;case DIRECTION_RIGHT:_0xec7c62['fillRect'](0x0,0x0,_0x3dcc6e,item_size_1),_0xec7c62[_0x677d('0x5')]=_0x677d('0x10f');for(var _0x4a5daf=0x0;0x4>_0x4a5daf;_0x4a5daf++)_0xec7c62[_0x677d('0x6')](_0x3dcc6e,_0x46063d+0x2*_0x4a5daf*_0x301325,_0x301325,_0x301325);_0xec7c62[_0x677d('0x5')]=_0x677d('0x10e'),_0xec7c62['fillRect'](_0x3dcc6e,_0x46063d+0x3*_0x301325,0x2*_0x301325,_0x301325);break;case DIRECTION_LEFT:_0xec7c62[_0x677d('0x6')](_0x291299-_0x3dcc6e,0x0,_0x3dcc6e,item_size_1),_0xec7c62[_0x677d('0x5')]=_0x677d('0x10f');for(var _0x4a5daf=0x0;0x4>_0x4a5daf;_0x4a5daf++)_0xec7c62[_0x677d('0x6')](_0x291299-_0x3dcc6e-_0x301325,_0x46063d+0x2*_0x4a5daf*_0x301325,_0x301325,_0x301325);_0xec7c62[_0x677d('0x5')]=_0x677d('0x10e'),_0xec7c62['fillRect'](_0x291299-_0x3dcc6e-0x2*_0x301325,_0x46063d+0x3*_0x301325,0x2*_0x301325,_0x301325);}return _0x574079;}